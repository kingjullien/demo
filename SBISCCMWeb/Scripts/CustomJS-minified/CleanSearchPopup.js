function ReloadSuccess() { $("#divProgress").hide() } function backToparent() { $.magnificPopup.close() } function ConvertEncrypte(t) { var a = ""; return "" != t && null != t && $.ajax({ type: "POST", url: "/Home/GetEncryptedString", data: JSON.stringify({ strValue: t }), dataType: "json", contentType: "application/json", async: !1, success: function (t) { a = t }, error: function (t, a, e) { } }), a } function addHeight600Class(t) { t ? $(".popupiResearchInvestigationTargeted").addClass("height600") : $(".popupiResearchInvestigationTargeted").removeClass("height600") } $("body").on("click", ".btnSearchDUNS", function () { var t = $("select#Country").val(); return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/SearchData/DUNSPopup?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***") }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupSearchDUNS" }), !1 }), $(function () { var t = $("#ActivateFeature").val(), a = $('input[name="__RequestVerificationToken"]').val(), e = $("#LicenseEnableInvestigations").val(), n = $("#APITypeForInvestigation").val(); null != e && "False" != e || (e = !0), "True" == e && "DirectPlus" != n && (e = !0), $.contextMenu({ selector: ".context-menu-one", callback: function (t, a) { }, events: { show: function (a) { setTimeout(function () { a.$menu.find(".context-menu-disabled > span").attr("title", t) }, 50) } }, items: { AddCompany: { name: addMatchAsCompany, callback: function () { var t = $(this).attr("data-val"), e = ($("#SrcRecId").val().trim(), "SrcRecId:" + SrcRecId), n = ConvertEncrypte(encodeURI(e)).split("+").join("***"); return $.ajax({ type: "POST", url: "/BadInputData/FillMatchData/", data: JSON.stringify({ matchRecord: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (t) { $.ajax({ type: "GET", url: "/BadInputData/AddCompany?Parameters=" + n, dataType: "HTML", async: !1, success: function (t) { $("#divProgress").hide(), $("#SearchDataAddCompanyModalMain").html(t), DraggableModalPopup("#SearchDataAddCompanyModal") } }) }, error: function (t, a, e) { } }), "context-menu-icon context-menu-icon-quit" } }, AddInvestigation: { name: investigateRecord, disabled: e, callback: function () { var t = $(this).attr("data-val"), a = JSON.parse(t), e = $(this).attr("data-InputId"), n = $(this).attr("data-SrcId"), o = $(this).attr("data-Duns"), r = $(this).attr("data-Tags"), i = a.DnBOrganizationName, c = a.DnBStreetAddressLine, s = a.DnBPrimaryTownName, d = a.DnBPostalCode, l = a.DnBCountryISOAlpha2Code, u = a.DnBTradeStyleName, p = a.DnBOperatingStatus, m = ConvertEncrypte(encodeURI("InputId:" + e + "@#$SrcId:" + n + "@#$Duns:" + o + "@#$Tags:" + r + "@#$Company:" + i + "@#$Street:" + c + "@#$City:" + s + "@#$PostalCode:" + d + "@#$Country:" + l + "@#$TradeStyle:" + u + "@#$Status:" + p)).split("+").join("***"); return $.ajax({ type: "GET", url: "/ResearchInvestigation/iResearchInvestigationRecordsTargeted?Parameters=" + m, dataType: "HTML", async: !1, success: function (t) { $("#iResearchInvestigationRecordsTargetedModalMain").html(t), DraggableModalPopup("#iResearchInvestigationRecordsTargetedModal") } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one").on("click", function (t) { return "context-menu-icon context-menu-icon-quit" }) }), $("body").one("click", ".Enrichment", function () { var t = $(this).attr("data-dunsnumber"), a = $("#SrcId").attr("data-inputid"), e = $("#txtCompany").val().trim(), n = $("#txtAddress").val() ? $("#txtAddress").val() + " " + $("#txtAddress2").val() : $("#txtAddress2").val(), o = $("#txtCity").val(), r = $("#txtState").val(), i = $("#txtZip").val(), c = $("select#Country").val(), s = $("#txtPhone").val(), d = $(this).attr("data-country"), l = $("#alt_registrationNum").attr("data-val"), u = $("#alt_Website").attr("data-val"), p = ConvertEncrypte(encodeURI("DunsNumber:" + t + "@#$Company:" + e + "@#$Address:" + n + "@#$City:" + o + "@#$State:" + r + "@#$Postal:" + i + "@#$CountryCode:" + c + "@#$SrcId:" + a + "@#$Phone:" + s + "@#$Country:" + d + "@#$RegNo:" + l + "@#$Website:" + u)).split("+").join("***"); $.ajax({ type: "GET", url: "/StewardshipPortal/PreviewEnrichmentData?Parameters=" + p, dataType: "HTML", success: function (t) { $("#EnrichmentDetailModalMain").html(t), DraggableModalPopup("#EnrichmentDetailModal") } }) });
function LoadList() { $.pjax({ url: "/Portal/UploadConfiguration", container: "#divPartialCommandMapping", timeout: 5e4 }).done(function () { InitPortalUploadConfigurationDataTable(), 0 == $("table#tbCmndMapping tbody tr").length ? $("#EditCommandMapping").attr("disabled", !0) : $("table#tbCmndMapping tbody tr:first").addClass("current") }) } function OnSuccess() { $("#divProgress").hide(), pageSetUp(), 0 == $("table#tbCmndMapping tbody tr").length ? $("#EditCommandMapping").attr("disabled", !0) : $("table#tbCmndMapping tbody tr:first").addClass("current") } function LoadCommandDownloadList(a) { $.pjax({ url: "/Portal/DownloadConfiguration", container: "#divPartialCommandDownloadList", timeout: 5e4 }).done(function () { InitPortalDownloadConfigurationDataTable(), pageSetUp(), 0 == $("table#tbCmndDownloadMapping tbody tr").length ? $("table#tbCmndDownloadMapping").attr("disabled", !0) : $("table#tbCmndDownloadMapping tbody tr:first").addClass("current") }) } function InitPortalUploadConfigurationDataTable() { InitDataTable("#tbCmndMapping", [10, 20, 30], !1, [0, "desc"]) } function InitPortalDownloadConfigurationDataTable() { InitDataTable("#tbCmndDownloadMapping", [10, 20, 30], !1, [0, "desc"]) } $("body").on("click", "#IdRTabCommandUpload", function () { $(this).parent("li").hasClass("active") || $.pjax({ url: "/Portal/UploadConfiguration", container: "#divPartialCommandMapping", timeout: 5e4 }).done(function () { InitPortalUploadConfigurationDataTable(), 0 == $("table#tbCmndMapping tbody tr").length ? $("#EditCommandMapping").attr("disabled", !0) : $("table#tbCmndMapping tbody tr:first").addClass("current") }) }), $("body").on("click", "#IdRTabCommandDownloadSetup", function () { $('[data-toggle="popover"]').popover(), $.pjax({ url: "/Portal/EXESetup", container: "#divPartialCommandDownloadSetup", timeout: 5e4 }).done(function () { }) }), $("body").on("click", "#IdRTabCommandDownload", function () { if (!$(this).parent("li").hasClass("active")) { LoadCommandDownloadList("/CommandMapping/IndexCommandDownload") } }), $("body").on("click", "#AddCommandMapping", function () { $.ajax({ type: "GET", url: "/CommandMapping/CreateCommandMapping", dataType: "HTML", success: function (a) { $("#UploadConfigurationModalMain").html(a), DraggableModalPopup("#UploadConfigurationModal") } }) }), $("body").on("click", ".editCommanduploadMapping", function () { var a = $(this).attr("id"); null == a && (a = 0), $.ajax({ type: "GET", url: "/CommandMapping/CreateCommandMapping?Parameters=" + ConvertEncrypte(encodeURI(a)).split(" + ").join(" ***"), dataType: "HTML", success: function (a) { $("#UploadConfigurationModalMain").html(a), DraggableModalPopup("#UploadConfigurationModal") } }) }), $("body").on("click", ".deleteCommanduploadMapping", function () { var a = $(this).attr("id"), n = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (o) { o && $.ajax({ type: "POST", url: "/CommandMapping/DeleteCommanduploadMapping?Parameters=" + ConvertEncrypte(encodeURI(a)).split("+").join("***"), dataType: "JSON", headers: { __RequestVerificationToken: n }, contentType: "application/json", success: function (a) { ShowMessageNotification("success", a, !1), LoadList() }, error: function (a, n, o) { } }) } }) }), $("body").on("change", ".pagevalueChange", function () { LoadList() }), $("body").on("click", "table#tbCmndMapping tbody tr", function () { $(this).hasClass("current") || ($("table#tbCmndMapping tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current")) }), $("body").on("click", "#AddCommandDownloadMapping", function () { $.ajax({ type: "GET", url: "/CommandMapping/InsertUpdateCommandDownload", dataType: "HTML", success: function (a) { $("#DownloadConfigurationModalMain").html(a), DraggableModalPopup("#DownloadConfigurationModal") } }) }), $("body").on("click", ".editCommandDownloadMapping", function () { var a = $(this).attr("id"); null == a && (a = 0), $.ajax({ type: "GET", url: "/CommandMapping/InsertUpdateCommandDownload?Parameters=" + ConvertEncrypte(encodeURI(a)).split("+").join("***"), dataType: "HTML", success: function (a) { $("#DownloadConfigurationModalMain").html(a), DraggableModalPopup("#DownloadConfigurationModal") } }) }), $("body").on("click", ".deleteCommandDownloadMapping", function () { var a = $('input[name="__RequestVerificationToken"]').val(), n = $(this).attr("id"); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (o) { o && $.ajax({ type: "POST", url: "/CommandMapping/DeleteCommandDownload?Parameters=" + ConvertEncrypte(encodeURI(n)).split("+").join("***"), dataType: "JSON", headers: { __RequestVerificationToken: a }, contentType: "application/json", success: function (a) { ShowMessageNotification("success", a, !1); LoadCommandDownloadList("/CommandMapping/IndexCommandDownload/") }, error: function (a, n, o) { } }) } }) }), $("body").on("change", ".pagevalueDownloadChange", function () { LoadCommandDownloadList("/CommandMapping/IndexCommandDownload/") }), $("body").on("click", "table#tbCmndDownloadMapping tbody tr", function () { $(this).hasClass("current") || ($("table#tbCmndDownloadMapping tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current")) });
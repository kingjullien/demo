function closemsg() { $(".alert-success").hide() } function SetTagValue(a) { $.magnificPopup.close(), updateTagListOnchangeOrAdd() } function UserUpdateSuccess() { var a = $("#Messgae").val(); bootbox.alert({ title: "<i class='fa fa-info-circle' aria-hidden='true'></i> Message", message: a, callback: function () { LoadTags(), "Data created successfully" == a && ($("#form_ConfigData input[type=text]").val(""), $("#form_ConfigData input[type=password]").val(""), $("#form_ConfigData input[type=checkbox]").attr("checked", !1), $("#form_ConfigData .chzn-select").val("").trigger("chosen:updated"), $("#form_ConfigData #LOBTag").val("")) } }) } function LoadTags() { var a = $("#TagList").val().split(","); (null != a || "" != a) && ($(".chzn-select option").each(function () { for (var e = 0; e < a.length; e++) $(this).val() == a[e] && $(this).attr("selected", "selected") }), $("#Tags").val(a)), $(".chzn-select").length > 0 && $(".chzn-select").chosen().change(function (a) { a.target == this && $("#Tags").val($(this).val()) }) } function updateTagListOnchangeOrAdd() { var a = $("#LOBTag option:selected").text(); a = "select lob tag" == a.toLowerCase() ? "" : a; var e = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ConfigurationData/GetLOBTags", data: JSON.stringify({ LOBTag: a }), dataType: "json", contentType: "application/json", headers: { __RequestVerificationToken: e }, processData: !1, async: !1, success: function (a) { $("#TagsValue").find("option").remove().end(); var e = ""; $.each(a.Data, function (t) { e = e + a.Data[t].Tag + ",", $("#TagsValue").append($("<option></option>").val(a.Data[t].Tag).html(a.Data[t].Tag)) }), $("#TagsValue").trigger("chosen:updated") }, error: function (a, e, t) { } }) } $("body").on("click", ".btnConfigDataUser", function () { var a = $("#UserName").val(), e = $("#PasswordHash").val(), t = $("#EmailAddress").val(), s = 0; if ("" == a ? ($("#spnUserName").show(), s++) : $("#spnUserName").hide(), void 0 != e) if ("" == e) $("#spnpassword").show(), s++; else { $("#spnpassword").hide(); var n = new RegExp("^((?=.*?[a-z])|(?=.*?[A-Z]))(?=.*?[0-9])(?=.*?[#?!@$%^<>*-]).{8,50}$"); n.test(e) ? $("#spnpasswordLength").hide() : ($("#spnpasswordLength").show(), s++) } return "" == t ? ($("#spnEmail").show(), s++) : isValidEmailAddress(t) ? $("#spnEmail").hide() : ($("#spnEmail").html("Please enter proper email."), $("#spnEmail").show(), s++), s > 0 ? !1 : void 0 }), $("body").on("click", ".OpenTags", function () { $.magnificPopup.open({ preloader: !0, closeBtnInside: !0, type: "iframe", items: { src: "/Data/AddTags/" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupAddTags" }) }), $(document).ready(function () { LoadTags() }), $("body").on("change", "#LOBTag", function () { updateTagListOnchangeOrAdd() });
function FillData() { var t = $("select#CountryGroup").val(), a = $("#TopMatchCandidate").prop("checked"); $.ajax({ type: "POST", url: "/Review/Index/", data: JSON.stringify({ TopMatchCandidate: a, CountryGroup: t }), dataType: "html", contentType: "application/json", success: function (t) { $("#divReview").html(t), $("#divp").width($("#Review").width()), setTimeout(function () { $("#divp").width($("#Review").width()) }, 2e3), setup_dashboard_widgets_desktop(); var a = $(".context-menu-one").length; $("#Count").val(a) }, error: function (t, a, e) { } }) } function matchItemNextClick(t, a) { "" != t && ($(".context-menu-one").each(function () { $(this).removeClass("current") }), $("#" + t).addClass("current")) } function matchItemPrevClick(t, a) { "" != t && ($(".context-menu-one").each(function () { $(this).removeClass("current") }), $("#" + t).addClass("current")) } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide(), $("#divp").width($("#Review").width()), setTimeout(function () { $("#divp").width($("#Review").width()) }, 2e3) }), $.UserRole = $("#UserRole").val(), $.UserLOBTag = $("#UserLOBTag").val(), $("body").on("change", ".selectbox", function () { var t = $("select#CountryGroup").val(); $("#TopMatchCandidate").prop("checked"); t > 0 ? ($("#btnSearchReviewData").removeClass("disabled"), $("#btnExportData").removeClass("disabled")) : ($("#btnSearchReviewData").addClass("disabled"), $("#btnExportData").addClass("disabled")) }), $("body").on("click", "#btnExportData", function () { $("#form_ReviewData").submit() }), $("body").on("click", "#btnRunAutoAcceptRule", function () { $("#Export").val("false"); var t = $("select#CountryGroup").val(), a = $("#TopMatchCandidate").prop("checked"), e = $('input[name="__RequestVerificationToken"]').val(), n = "TopMatchCandidate:" + a + "@#$CountryGroup:" + t; return 1 == a && null != t ? $.ajax({ type: "POST", url: "/Review/RunAutoAcceptRules/", data: JSON.stringify({ Parameters: ConvertEncrypte(encodeURI(n)).split("+").join("***") }), headers: { __RequestVerificationToken: e }, dataType: "html", contentType: "application/json", success: function (t) { $("#divReview").html(t), setup_dashboard_widgets_desktop() }, error: function (t, a, e) { } }) : ShowMessageNotification("success", "Matches accepted based on match criteria", !1), !1 }), $("body").on("click", "#btnSearchReviewData", function (t) { FillData() }), $("body").on("change", "#FirstCandidate", function (t) { $("#Count").val(0), $(".context-menu-one").each(function () { $(this).hide() }), $("#Review tbody").html("<tr><td class='noContain'>No data are available</td><td class='hidetd noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td><td class='noContain'></td></tr>") }), $("body").on("click", ".ActionLink", function (t) { return !$(".noContain").is(":visible") }), $(function () { var t = $('input[name="__RequestVerificationToken"]').val(), a = $("#EnableCreateAutoAcceptRules").val(); null != a && "False" != a || (a = !0), "True" == a && (a = !1), $.contextMenu({ selector: ".context-menu-one", callback: function (t, a) { }, items: { AcceptMatches: { name: acceptSelectedMatches, callback: function () { var a = $(this).attr("data-Country"), e = $("#TopMatchCandidate").prop("checked"), n = "", o = ""; $("#Review tr.current").length > 1 ? $("#Review tr").each(function () { $(this).hasClass("current") && (n = n + $(this).attr("data-inputid") + ",", o += $(this).attr("data-DUNS")) }) : (n = $(this).attr("data-inputid"), o = $(this).attr("data-DUNS")); var i = "id:" + n + "@#$TopMatchCandidate:" + e + "@#$CountryGroup:" + a + "@#$duns:" + o, c = "TopMatchCandidate:true@#$CountryGroup:" + a; $.ajax({ type: "POST", url: "/Review/Accepted_Item/", data: JSON.stringify({ Parameters: ConvertEncrypte(encodeURI(i)).split("+").join("***") }), headers: { __RequestVerificationToken: t }, dataType: "html", contentType: "application/json", success: function (t) { location.href = "/Review?Parameters=" + ConvertEncrypte(encodeURI(c)).split("+").join("***") }, error: function (t, a, e) { } }) } }, "AddCCAuto-acceptance": { name: addCC, callback: function () { var t = $(this).attr("data-Country"), a = $(this).attr("data-ConfidenceCode"), e = ($("#TopMatchCandidate").prop("checked"), "ConfidanceCode:" + a + "@#$Country:" + t + "@#$Tags:" + $(this).attr("data-Tags").replace(new RegExp("::", "g"), "@@")); $.ajax({ type: "GET", url: "/Review/CC_Item?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#ReviewCC_ItemModalMain").html(t), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal") } }) }, disabled: function (t, e) { return !!a || $("#Review").find(".current").length > 1 } }, "AddCCMGAuto-acceptance": { name: addCCandMG, callback: function () { var t = $(this).attr("data-Country"), a = $(this).attr("data-ConfidenceCode"), e = $(this).attr("data-DnBMatchGradeText"), n = ($("#TopMatchCandidate").prop("checked"), "ConfidanceCode:" + a + "@#$Country:" + t + "@#$DnBMatchGradeText:" + e + "@#$Tags:" + $(this).attr("data-Tags").replace(new RegExp("::", "g"), "@@")); $.ajax({ type: "GET", url: "/Review/CCMG_Item?Parameters=" + ConvertEncrypte(encodeURI(n)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#ReviewCC_ItemModalMain").html(t), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal") } }) }, disabled: function (t, e) { return !!a || $("#Review").find(".current").length > 1 } }, "AddCCMGMDPAuto-acceptance": { name: addCCandMGandMDP, disabled: a, callback: function () { var t = $(this).attr("data-Country"), a = $(this).attr("data-ConfidenceCode"), e = $(this).attr("data-DnBMatchGradeText"), n = $(this).attr("data-DnBMatchDataProfileText"), o = ($("#TopMatchCandidate").prop("checked"), "ConfidanceCode:" + a + "@#$Country:" + t + "@#$DnBMatchGradeText:" + e + "@#$DnBMatchDataProfileText:" + n + "@#$Tags:" + $(this).attr("data-Tags").replace(new RegExp("::", "g"), "@@")); $.ajax({ type: "GET", url: "/Review/CCMGMDP_Item?Parameters=" + ConvertEncrypte(encodeURI(o)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#ReviewCC_ItemModalMain").html(t), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal") } }) }, disabled: function (t, e) { return !!a || $("#Review").find(".current").length > 1 } }, "ExcludeCCMGAuto-acceptance": { name: excludeCCandMG, callback: function () { var t = $(this).attr("data-Country"), a = $(this).attr("data-ConfidenceCode"), e = $(this).attr("data-DnBMatchGradeText"), n = ($("#TopMatchCandidate").prop("checked"), "ConfidanceCode:" + a + "@#$Country:" + t + "@#$DnBMatchGradeText:" + e + "@#$Tags:" + $(this).attr("data-Tags").replace(new RegExp("::", "g"), "@@")); $.ajax({ type: "GET", url: "/Review/ExCCMG_Item?Parameters=" + ConvertEncrypte(encodeURI(n)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#ReviewCC_ItemModalMain").html(t), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal") } }) }, disabled: function (t, e) { return !!a || $("#Review").find(".current").length > 1 } }, "ExcludeCCMGMDPAuto-acceptance": { name: excludeCCandMGandMDP, callback: function () { var t = $(this).attr("data-Country"), a = $(this).attr("data-ConfidenceCode"), e = $(this).attr("data-DnBMatchGradeText"), n = $(this).attr("data-DnBMatchDataProfileText"), o = ($("#TopMatchCandidate").prop("checked"), "ConfidanceCode:" + a + "@#$Country:" + t + "@#$DnBMatchGradeText:" + e + "@#$DnBMatchDataProfileText:" + n + "@#$Tags:" + $(this).attr("data-Tags").replace(new RegExp("::", "g"), "@@")); $.ajax({ type: "GET", url: "/Review/ExCCMGMDP_Item?Parameters=" + ConvertEncrypte(encodeURI(o)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#ReviewCC_ItemModalMain").html(t), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal") } }) }, disabled: function (t, e) { return !!a || $("#Review").find(".current").length > 1 } }, ShowMatchDetail: { name: showMatchDetail, callback: function () { $("#divProgress").show(); $(this).attr("data-val"), $(this).attr("data-SrcRecordId"); var t = $(this).attr("data-inputid"), a = $(this).attr("data-next"), e = $(this).attr("data-prev"), n = $(this).attr("data-Country"), o = $(this).attr("data-DUNS"), i = $("#OrderBy").val(), c = ($("#TopMatchCandidate").prop("checked"), "id:" + t + "@#$TopMatchCandidate:" + !0 + "@#$CountryGroup:" + n + "@#$dataNext:" + a + "@#$dataPrev:" + e + "@#$DUNS:" + o + "@#$OrderBy:" + i + "@#$IsPartialView:false"); return $.ajax({ type: "GET", url: "/Review/MatchDetailView_Item?Parameters=" + ConvertEncrypte(encodeURI(c)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#ReviewMatchDetailModalMain").html(t), DraggableModalPopup("#ReviewMatchDetailModal") } }), $("#divProgress").hide(), "context-menu-icon context-menu-icon-quit" }, disabled: function (t, a) { return $("#Review").find(".current").length > 1 } } } }), $(".context-menu-one").on("click", function (t) { }) }), $("body").on("click", ".clsViewMatchedItemDetails", function () { var t = $(this).attr("data-SrcRecordId"), a = $(this).attr("data-inputid"), e = $(this).attr("data-next"), n = $(this).attr("data-prev"), o = $(this).attr("data-Country"), i = $(this).attr("data-DUNS"), c = "id:" + a + "@#$TopMatchCandidate:" + $("#TopMatchCandidate").prop("checked") + "@#$CountryGroup:" + o + "@#$childButtonId:" + t + "@#$dataNext:" + e + "@#$dataPrev:" + n + "@#$DUNS:" + i; return $.magnificPopup.open({ items: { src: "/Review/MatchDetailView_Item?Parameters=" + ConvertEncrypte(encodeURI(c)).split("+").join("***") }, type: "iframe", closeOnBgClick: !1, mainClass: "popInitiateReturn", callbacks: { open: function () { setTimeout(function () { $(".mfp-iframe").contents().find("html body #contentPopup").length > 0 && $(".mfp-iframe").contents().find("html body #contentPopup").html(data) }, 1500) } } }), !1 }), $("body").on("click", ".context-menu-one", function (t) { t.ctrlKey ? $(this).hasClass("current") ? $(this).removeClass("current") : $(this).addClass("current") : ($(".context-menu-one").each(function () { $(this).removeClass("current") }), $(this).addClass("current")) }); var arescrolling = 0; function scroller(t, a) { arescrolling || (arescrolling = 1, document.getElementById(a).scrollLeft = document.getElementById(t).scrollLeft, arescrolling = 0) } function OnSuccess() { setup_dashboard_widgets_desktop(), $("body").removeClass("nooverflow") } function callBackReViewSearch(t, a) { $("#ReviewDataFilterModal").modal("hide"), $.ajax({ type: "POST", url: "/Review/Index", data: t, dataType: "HTML", contentType: !1, processData: !1, async: !1, success: function (t) { if ($("#divReview").html(t), a) $(".iconReviewMatchFilter").html("<i></i>"), $(".iconReviewMatchFilter").children("i").attr("class", "fa fa-filter"); else { var e = encodeURI(ConvertEncrypte("/Images/filterApplied.png")); $(".iconReviewMatchFilter").html("<img src='/Image/GetImage?imagepath=" + e + "' class='FilterApplied' style='height: 16px;margin-top:-2px;'/>") } }, error: function (t, a, e) { } }) } $("body").on("change", ".pagevalueChange", function () { var t = "/Review/Index/?pagevalue=" + $(this)[0].value + "&sortby=" + $("#SortBy").val() + "&sortorder=" + $("#SortOrder").val(); $("#divTicketPortal").load(t, function () { }) }), $("body").on("click", ".iconReviewMatchFilter", function () { $.ajax({ type: "GET", url: "/Review/ReviewDataFilterPopup", dataType: "HTML", async: !1, success: function (t) { $("#ReviewDataFilterModalMain").html(t), DraggableModalPopup("#ReviewDataFilterModal"), onLoadReviewFilter() } }) }), $("body").on("click", ".btnAddCompany", function () { var t = $('input[name="__RequestVerificationToken"]').val(), a = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/BadInputData/FillMatchData/", data: JSON.stringify({ matchRecord: a }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", success: function (t) { $.ajax({ type: "GET", url: "/BadInputData/AddCompany", dataType: "HTML", async: !1, success: function (t) { $("#divProgress").hide(), $("#CleanSearchDataAddCompanyModalMain").html(t), DraggableModalPopup("#SearchDataAddCompanyModal") } }) }, error: function (t, a, e) { } }), !1 });
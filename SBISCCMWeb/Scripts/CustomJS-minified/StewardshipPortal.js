function clearCompanyData() { $("#txtScrRecId").val(""), $("#txtCompany").val(""), $("#txtCity").val(""), $("select#State").prop("selectedIndex", 0), $("select#Country").prop("selectedIndex", 0) } function clearAllOtherData() { $("#txtScrRecId").val(""), $("#txtCompany").val(""), $("#txtCity").val(""), $("select#State").prop("selectedIndex", 0), $("select#Country").prop("selectedIndex", 0), $("select#CompanyMatch").prop("selectedIndex", 0), $("select#CityName").prop("selectedIndex", 0), $("select#StreetNo").prop("selectedIndex", 0), $("select#StateName").prop("selectedIndex", 0), $("select#StreetName").prop("selectedIndex", 0), $("select#PostalCode").prop("selectedIndex", 0), $("select#Telephone").prop("selectedIndex", 0), $("#txtMatchGrade").val(""), $(".noUi-origin").css("left", "0"), $("#divMinConfidentCode").html("0.00"), $("#minConfidentCode").val("0.00"), 1 == $("#SelectTopMatch").prop("checked") && $("#SelectTopMatch").click() } function CallAcceptLCMMatches(e, t) { var a = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/StewardshipPortal/AcceptLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function MatchCallAcceptLCMMatches(e, t, a) { $.ajax({ type: "POST", url: "/StewardshipPortal/AcceptLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function CallRejectLCMMatches(e, t) { var a = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/StewardshipPortal/RejectLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function MatchCallRejectLCMMatches(e, t, a) { $.ajax({ type: "POST", url: "/StewardshipPortal/RejectLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function OpenStewardshipNote(e, t, a) { return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/StewardshipPortal/OpenSearchData?InputId=" + e + "&count=" + t + "&Notes=" + a }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupStewardShipNotes" }), !1 } function pagination() { clearAllOtherData(), setup_dashboard_widgets_desktop(), $("body").removeClass("nooverflow") } function OnSuccess() { setup_dashboard_widgets_desktop(), $("body").removeClass("nooverflow") } function matchItemNextClick(e, t) { if ("" != e) { var a = "#" + e + "DUNS" + t, n = "#" + e + "-2-" + t; $(a).parent().find(".currentChildRow").each(function () { $(this).removeClass("current") }), $(a).prev().removeClass("current"), $(a).addClass("current"), $(n).addClass("current"), $InnerTableId = $("#innertable" + t), $AllTr = $InnerTableId.find("tbody").find("tr"); var o = parseInt(($(n).index() + 1) / 2) - 1; $InnerTableId.find("tbody").scrollTop(($($AllTr[0]).height() + $($AllTr[1]).height()) * o - 50), $("#divProgress").hide() } } function matchItemPrevClick(e, t) { if ("" != e) { var a = "#" + e + "DUNS" + t, n = "#" + e + "-2-" + t; $(a).parent().find(".currentChildRow").each(function () { $(this).removeClass("current") }), $(a).addClass("current"), $(n).addClass("current"), $InnerTableId = $("#innertable" + t), $AllTr = $InnerTableId.find("tbody").find("tr"); var o = parseInt(($(n).index() + 1) / 2) - 1; $InnerTableId.find("tbody").scrollTop(($($AllTr[0]).height() + $($AllTr[1]).height()) * o - 50) } } function backToparent() { $.ajax({ type: "POST", url: "/StewardshipPortal/GetFilteredCompanyList/", data: "", dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function backToparent2() { $.magnificPopup.close() } function CloseInvestigationWindow() { window.parent.$.magnificPopup.close() } function CloseRejectAllWindow() { window.location.href = "/StewardshipPortal/Index" } function callbackRejectPurgeData() { window.parent.$.magnificPopup.close(), location.reload() } function addHeight600Class(e) { e ? $(".popupiResearchInvestigationTargeted").addClass("height600") : $(".popupiResearchInvestigationTargeted").removeClass("height600") } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide(), triggerBubble() }), $.ajaxSetup({ cache: !1 }), $(document).ready(function () { $("#divProgress").show(); var e = document.getElementById("slider-range"); noUiSlider.create(e, { start: [0], range: { min: [0], max: [10] }, pips: { mode: "steps", density: 10 }, step: 1 }), $("#slider-range").addClass("form-control"), e.noUiSlider.on("change", function (e, t) { document.getElementById("divMinConfidentCode").innerHTML = e[t], $("#minConfidentCode").val(e[t]), $("#form_StewardshipPortal").submit() }), $("#divProgress").hide(), $.ajax({ type: "GET", url: "/UserSessionFilter/popupUserFilterJson/", async: !1, success: function (e) { var t = e.Data, a = [], n = []; a.push(["OrderByColumn", "OrderByColumn", "/StewardshipPortal/GetOrderByColumnDD", "true", "value", "onlyselect", null != t.OrderByColumn && "" != t.OrderByColumn ? t.OrderByColumn : "SrcRecordId"]), null != t.SrcRecordId && "" != t.SrcRecordId ? a.push(["SrcRecordId", "SrcRecordId", "", "", "", "onlytext", null != t.SrcRecordId && "" != t.SrcRecordId ? t.SrcRecordId : "", "true"]) : n.push(["SrcRecordId", "SrcRecordId", "", "", "", "onlytext", null != t.SrcRecordId && "" != t.SrcRecordId ? t.SrcRecordId : ""]), null != t.CompanyName && "" != t.CompanyName ? a.push(["CompanyName", "CompanyName", "", "", "", "onlytext", null != t.CompanyName && "" != t.CompanyName ? t.CompanyName : "", "true"]) : n.push(["CompanyName", "CompanyName", "", "", "", "onlytext", null != t.CompanyName && "" != t.CompanyName ? t.CompanyName : ""]), null != t.City && "" != t.City ? a.push(["City", "City", "", "", "", "onlytext", null != t.City && "" != t.City ? t.City : "", "true"]) : n.push(["City", "City", "", "", "", "onlytext", null != t.City && "" != t.City ? t.City : ""]), null != t.State && "" != t.State ? a.push(["State", "State", "", "", "", "onlytext", null != t.State && "" != t.State ? t.State : "", "true"]) : n.push(["State", "State", "", "", "", "onlytext", null != t.State && "" != t.State ? t.State : ""]), null != t.CountryISOAlpha2Code && "" != t.CountryISOAlpha2Code ? a.push(["Country", "Country", "/StewardshipPortal/GetCountryDD", "", "text", "onlyselect", null != t.CountryISOAlpha2Code && "" != t.CountryISOAlpha2Code ? t.CountryISOAlpha2Code : "", "true"]) : n.push(["Country", "Country", "/StewardshipPortal/GetCountryDD", "", "text", "onlyselect", null != t.CountryISOAlpha2Code && "" != t.CountryISOAlpha2Code ? t.CountryISOAlpha2Code : ""]), null != t.ImportProcess && "" != t.ImportProcess ? a.push(["ImportProcess", "ImportProcess", "/StewardshipPortal/GetImportProcessDD", "", "text", "onlyselect", null != t.ImportProcess && "" != t.ImportProcess ? t.ImportProcess : "", "true"]) : n.push(["ImportProcess", "ImportProcess", "/StewardshipPortal/GetImportProcessDD", "", "text", "onlyselect", null != t.ImportProcess && "" != t.ImportProcess ? t.ImportProcess : ""]), null != t.CountryGroupId && t.CountryGroupId > 0 ? a.push(["CountryGroup", "CountryGroup", "/StewardshipPortal/GetCountryGroupDD", "", "text", "onlyselect", null != t.CountryGroupId && t.CountryGroupId > 0 ? t.CountryGroupId.toString() : "", "true"]) : n.push(["CountryGroup", "CountryGroup", "/StewardshipPortal/GetCountryGroupDD", "", "text", "onlyselect", null != t.CountryGroupId && t.CountryGroupId > 0 ? t.CountryGroupId.toString() : ""]), null != t.Tag && "" != t.Tag ? a.push(["Tag", "Tag", "/StewardshipPortal/GetTagsDD", "", "text", "onlyselect", null != t.Tag && "" != t.Tag ? t.Tag : "", "true"]) : n.push(["Tag", "Tag", "/StewardshipPortal/GetTagsDD", "", "text", "onlyselect", null != t.Tag && "" != t.Tag ? t.Tag : ""]); var o = $.merge(a, n); InitFilters(o, "/StewardshipPortal/FilterMatchData", "#MatchDataFilterContainer", "#divStewardshipPortal", "clearAllOtherData()", "equalto") }, error: function (e, t, a) { } }), $("table.divStewardshipPortal tbody tr").each(function () { $(this).find("td:first").attr("title", "") }) }), $("#btnClearCompanyData").click(function () { clearCompanyData() }), $("#btnClearMatchFilter").click(function () { clearAllOtherData() }), $("body").on("click", "#btnAcceptSelectedMatches", function () { $("body").removeClass("nooverflow") }), $("body").on("click", "#btnRejectSelectedMatches", function () { $("body").removeClass("nooverflow"), clearAllOtherData() }), $("#btnClose").click(function () { clearAllOtherData() }), $("body").on("show.bs.collapse", "#divStewardshipPortal .collapse", function () { $(".partialrow").each(function () { $(this).removeClass("current") }), $(".panel-collapse.in").collapse("hide"), $(".trMatchedItemView").each(function () { $(this).hide() }), $(this).parents("tr").show(), $(this).parents("tr").prev().addClass("current") }), $("body").on("hide.bs.collapse", "#divStewardshipPortal .collapse", function () { $(this).parents("tr").hide() }), $("body").on("click", "#trig", function () { $("#colMain").toggleClass("col-md-9 col-md-12"), $("#colPush").toggleClass("col-md-3 col-md-0") }), $("body").on("click", ".clsViewMatchedItemDetails", function () { $(".currentChildRow").each(function () { $(this).removeClass("current") }), $(this).closest(".currentChildRow").addClass("current"), $(this).closest(".currentChildRow").next().addClass("current"); var e = $(this).closest("tr"), t = e.nextAll().eq(1), a = e.prevAll().eq(1), n = (e.attr("data-val"), ""), o = ""; t.length > 0 && (n = t.attr("id").split("DUNS")[0]), a.length > 0 && (o = a.attr("id").split("DUNS")[0]); var r = e.attr("id").split("DUNS"), c = r[0], i = "id:" + r[1] + "@#$childButtonId:" + c + "@#$dataNext:" + n + "@#$dataPrev:" + o + "@#$count:" + $(this).attr("id").split("@#$")[1] + "@#$type:AdditionalFields@#$IsPartialView:false"; $.ajax({ type: "GET", url: "/StewardshipPortal/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(i)).split("+").join("***"), dataType: "HTML", success: function (e) { $("#MatchDetailModalMain").html(e), DraggableModalPopup("#MatchDetailModal") } }) }), $("body").on("click", ".btnSelected", function () { var e = $(this).attr("id").replace("InnerMatch", ""), t = $(this).attr("data-val"); $(this).removeClass("btnSelected").addClass("btnUnselected"), parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), CallRejectLCMMatches(e, t) }), $("body").on("click", ".btnUnselected", function () { var e = $(this).attr("id").replace("InnerMatch", ""), t = $(this).attr("data-val"); parent.$("#" + e + "RejectAll").removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), parent.$("#" + e + "RejectAll").removeClass("parentbtnIdel").addClass("parentbtnUnselected"), parent.$("#" + e + "NotSelected").removeClass("NotSelected").addClass("SelectMathced"), $(this).closest("tr.trMatchedItemView").find(".btnSelected").removeClass("btnSelected").addClass("btnUnselected"), $(this).removeClass("btnUnselected").addClass("btnSelected"), CallAcceptLCMMatches(e, t), "False" == $("#Approve").val() && OpenStewardshipNote(e, t, "") }), $("body").on("click", ".parentbtnMatchRejected", function () { $(this).removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), CallAcceptLCMMatches($(this).attr("id").replace("RejectAll", ""), "unrejectall") }), $("body").on("click", ".parentbtnIdel", function () { var e = $(this).attr("id").replace("RejectAll", ""); parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), parent.$("#" + e + "InnerMatch").each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("parentbtnIdel").addClass("parentbtnMatchRejected"), CallAcceptLCMMatches(e, "rejectall"), "False" == $("#Approve").val() && OpenStewardshipNote(e, "-1", "") }), $("body").on("click", ".parentbtnUnselected", function () { var e = $(this).attr("id").replace("RejectAll", ""); parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), parent.$("." + e).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("parentbtnUnselected").addClass("parentbtnMatchRejected"), CallAcceptLCMMatches(e, "rejectall"), "False" == $("#Approve").val() && OpenStewardshipNote(e, "-1", "") }), $("body").on("click", ".userFilter", function () { var e = ""; e = "true" == $.IsTagsLicenseAllow.toLowerCase() ? "popupUserSessionFilter" : "popupUserSessionFilterNoTag"; var t = $("#pagevalue").val(); return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/UserSessionFilter/popupUserFilter/" }, callbacks: { close: function () { window.location.href = "/StewardshipPortal/Index?pagevalue=" + t } }, closeOnBgClick: !1, mainClass: e }), !1 }), $("body").on("click", ".DeleteFilter", function () { $("#pagevalue").val(); var e = $('input[name="__RequestVerificationToken"]').val(); return $(this).find("strong").removeClass("fa fa-plus"), $(this).find("strong").removeClass("fa fa-minus"), bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteSessionFilter, callback: function (t) { t && $.ajax({ type: "POST", url: "/StewardshipPortal/DeleteSessionFilter/", data: "", headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { "success" == e && window.parent.$.magnificPopup.close() }, error: function (e, t, a) { } }) } }), !1 }), $("body").on("change", ".pagevalueChange", function () { var e = "/StewardshipPortal/Index/?pagevalue=" + $(this)[0].value; $("#divStewardshipPortal").load(e, function () { document.getElementById("slider-range").noUiSlider.set(0), setup_dashboard_widgets_desktop() }), $("body").removeClass("nooverflow") }), $("body").on("click", ".panelview", function () { var e = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/StewardshipPortal/SetUserLayoutPreference/", data: JSON.stringify({ userLayout: "GRID" }), headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { $(".set-panel").hide() }, error: function (e, t, a) { } }) }), $("body").on("click", ".sort-header", function () { $(this).addClass("headerSortDown"), $("body").removeClass("nooverflow") }), $("body").on("click", ".currentChildRow", function () { $(this).parent().parent().find(".currentChildRow").each(function () { $(this).removeClass("current") }), $(this).addClass("current"); var e = "#" + $(this).attr("id"); e.indexOf("-2") > -1 ? $(e.replace("-2-", "DUNS")).addClass("current") : $(e.replace("DUNS", "-2-")).addClass("current") }), $("body").on("click", ".StewardNote", function () { var e = $(this).attr("data-id"), t = $(this).attr("data-count"), a = $(this).attr("data-Note"); "True" == $("#Approve").val() && OpenStewardshipNote(e, t, a) }), $("body").on("click", ".pagination li", function (e) { var t = $(this).find("a").html(), a = $("#sortby").val(), n = $("#sortorder").val(), o = $("#pagevalue").val(), r = 0; return ($(".parentbtnUnselected").length > 0 || $(".parentbtnMatchRejected").length > 0 || $(".SelectMathced").length > 0) && (r = 1), !(r > 0) || (bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: unsavedChanges, callback: function (e) { e && (document.getElementById("slider-range").noUiSlider.set(0), $.get("/StewardshipPortal/Index/", { page: t, sortby: a, sortorder: n, pagevalue: o }, function (e) { $("#divStewardshipPortal").html(e) })) } }), !1) }), $("body").on("click", ".trStewardshipPortal_td2", function () { var e = $(this).attr("id"); return $.ajax({ type: "GET", url: "/StewardshipPortal/popupCompanyAttribute?Parameters=" + e, dataType: "HTML", async: !1, success: function (e) { $("#CustomAttributeModalMain").html(e), DraggableModalPopup("#CustomAttributeModal") } }), !1 }), $("body").on("click", ".InvestigateRecords", function () { return $.magnificPopup.open({ items: { src: "/InvestigateView/InvestigateRecords" }, type: "iframe", closeOnBgClick: !1, mainClass: "popInvestigation", callbacks: { open: function () { setTimeout(function () { $(".mfp-iframe").contents().find("html body #contentPopup").length > 0 && $(".mfp-iframe").contents().find("html body #contentPopup").html(data) }, 1500) } } }), !1 }), $(function () { var e = $("#ActivateFeature").val(), t = $('input[name="__RequestVerificationToken"]').val(), a = $("#LicenseEnableInvestigations").val(), n = $("#APITypeForInvestigation").val(); null != a && "False" != a || (a = !0), "True" == a && "DirectPlus" != n && (a = !0), $.contextMenu({ selector: ".context-menu-one", callback: function (e, t) { }, events: { show: function (t) { setTimeout(function () { t.$menu.find(".context-menu-disabled > span").attr("title", e) }, 50) } }, items: { AddCompany: { name: addMatchAsCompany, callback: function () { var e = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/BadInputData/FillMatchData/", data: JSON.stringify({ matchRecord: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { $.IsTagsLicenseAllow.toLowerCase(), $.ajax({ type: "GET", url: "/BadInputData/AddCompany", dataType: "HTML", async: !1, success: function (e) { $("#divProgress").hide(), $("#SearchDataAddCompanyModalMain").html(e), DraggableModalPopup("#SearchDataAddCompanyModal") } }) }, error: function (e, t, a) { } }), "context-menu-icon context-menu-icon-quit" } }, AddInvestigation: { name: investigateRecord, disabled: a, callback: function () { var e = $(this).attr("data-val"), t = JSON.parse(e), a = $(this).attr("data-InputId"), n = $(this).attr("data-SrcId"), o = $(this).attr("data-Duns"), r = $(this).attr("data-Tags"), c = t.DnBOrganizationName, i = t.DnBStreetAddressLine, s = t.DnBPrimaryTownName, l = t.DnBPostalCode, d = t.DnBCountryISOAlpha2Code, p = t.DnBTradeStyleName, u = t.DnBOperatingStatus, h = ConvertEncrypte(encodeURI("InputId:" + a + "@#$SrcId:" + n + "@#$Duns:" + o + "@#$Tags:" + r + "@#$Company:" + c + "@#$Street:" + i + "@#$City:" + s + "@#$PostalCode:" + l + "@#$Country:" + d + "@#$TradeStyle:" + p + "@#$Status:" + u)).split("+").join("***"); return $.ajax({ type: "GET", url: "/ResearchInvestigation/iResearchInvestigationRecordsTargeted?Parameters=" + h, dataType: "HTML", async: !1, success: function (e) { $("#iResearchInvestigationRecordsTargetedModalMain").html(e), DraggableModalPopup("#iResearchInvestigationRecordsTargetedModal") } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }) }), $("body").on("click", ".GoogleMapPopUp", function () { var e = "matchRecord:" + $(this).attr("data-val"), t = parent.ConvertEncrypte(encodeURI(e)).split("+").join("***"); return $.ajax({ type: "GET", url: "/StewardshipPortal/GoogleMapPopUp?Parameters=" + t, dataType: "HTML", async: !1, success: function (e) { $("#GoogleMapPopUpModalMain").html(e), DraggableModalPopup("#GoogleMapPopUpModal") } }), !1 }), $("body").on("click", "#btnAcceptRejectAll", function () { $.IsTagsLicenseAllow.toLowerCase(), $.ajax({ type: "GET", url: "/StewardshipPortal/RejectAllRecords?IsMatchData=" + !0, cache: !1, beforeSend: function () { }, success: function (e) { $("#divPurgeDataMain").html(e), DraggableModalPopup("#divPurgeDataModal") } }), $.ajax({ type: "GET", url: "/StewardshipPortal/RejectFromFile?IsPurgeData=" + !1, cache: !1, beforeSend: function () { }, success: function (e) { $("#divPurgeFromFile").html(e) } }) }), $("body").on("click", "#btnDefaultPageSize", function () { var e = "pagevalue:" + $("#pagevalue").val() + "@#$Section:MatchData"; $.ajax({ type: "POST", url: "/StewardshipPortal/SaveDefaultPageSize?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), dataType: "json", contentType: "application/json", success: function (e) { ShowMessageNotification("success", e, !1) }, error: function (e, t, a) { } }) }), $("body").on("click", "#btnAcceptRejectAllFromFile", function () { $(this).attr("id"); $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/StewardshipPortal/RejectFromFile?IsPurgeData=" + !1 }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupRejectPurgeData" }) }), $("body").on("click", "#btnPreivewMatchesData", function () { $(this).attr("data-val"); $.ajax({ type: "GET", url: "/DandB/InsertUpdateAutoAcceptance?isAutoAcceptance=" + !1, dataType: "HTML", success: function (e) { $("#ApplyMatchRulesModalMain").html(e), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal") } }) }), $(function () { var e = $("#ActivateFeature").val(), t = ($('input[name="__RequestVerificationToken"]').val(), $("#LicenseEnableInvestigations").val()), a = $("#LicenseEnablePurgeData").val(), n = $("#APITypeForInvestigation").val(); null != t && "False" != t || (t = !0), "True" == t && "DirectPlus" != n && (t = !0), null != a && "False" != a || (a = !0), "True" == a && (a = !1), $.contextMenu({ selector: ".context-menu-one-purge", callback: function (e, t) { }, events: { show: function (t) { setTimeout(function () { t.$menu.find(".context-menu-disabled > span").attr("title", e) }, 50) } }, items: { Purge: { name: purgeRecord, disabled: a, titile: "Purge", callback: function () { var e = $(this).attr("data-SrcRecordId"), t = $(this).attr("id"), a = $('input[name="__RequestVerificationToken"]').val(), n = "/StewardshipPortal/StewPurgeSingleRecord?Parameters=" + ConvertEncrypte(encodeURI("InputId:" + t + "@#$SrcRecordId:" + e + "@#$Queue:LCM")).split("+").join("***"); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: purgeRecordMatchData, callback: function (e) { e && $.ajax({ type: "POST", url: n, headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json; charset=UTF-8", async: !1, cache: !1, success: function (e) { ShowMessageNotification("error", e, !1, !0, LocationReload) }, error: function (e, t, a) { } }) } }), "context-menu-icon context-menu-icon-quit" } }, AddInvestigation: { name: investigateRecord, disabled: t, callback: function () { var e = $(this).children(".trStewardshipPortal_td10").attr("data-InputId"), t = $(this).children(".trStewardshipPortal_td10").attr("data-SrcId"), a = $(this).children(".trStewardshipPortal_td10").attr("data-Company"), n = $(this).children(".trStewardshipPortal_td10").attr("data-StreetName"), o = $(this).children(".trStewardshipPortal_td10").attr("data-Address"), r = $(this).children(".trStewardshipPortal_td10").attr("data-City"), c = $(this).children(".trStewardshipPortal_td10").attr("data-PostalCode"), i = $(this).children(".trStewardshipPortal_td10").attr("data-CountryCode"), s = $(this).children(".trStewardshipPortal_td10").attr("data-Tags"), l = $(this).children(".trStewardshipPortal_td10").attr("data-phone"), d = $(this).children(".trStewardshipPortal_td10").attr("data-website"), p = ConvertEncrypte(encodeURI("InputId:" + e + "@#$SrcId:" + t + "@#$Company:" + a + "@#$StreetName:" + n + "@#$Address:" + o + "@#$City:" + r + "@#$PostalCode:" + c + "@#$CountryCode:" + i + "@#$Tags:" + s + "@#$Phone:" + l + "@#$Website:" + d)).split("+").join("***"); return $.ajax({ type: "GET", url: "/ResearchInvestigation/iResearchInvestigationRecords?Parameters=" + p, dataType: "HTML", async: !1, success: function (e) { $("#InvestigateModalMain").html(e), DraggableModalPopup("#InvestigateModal") } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one-purge").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }) }), $(".userFilter").popover({ trigger: "manual", html: !0, animation: !1 }).on("mouseenter", function () { var e = this; $(this).popover("show"), $(".popover").on("mouseleave", function () { $(e).popover("hide") }) }).on("mouseleave", function () { var e = this; setTimeout(function () { $(".popover:hover").length || $(e).popover("hide") }, 300) }), $("body").on("click", "#btnAcceptFromFile", function () { $.ajax({ type: "GET", url: "/StewardshipPortal/AcceptFromFile?IsPurgeData=" + !1, dataType: "HTML", success: function (e) { $("#divProgress").hide(), $("#AcceptFromFileModalMain").html(e), DraggableModalPopup("#AcceptFromFileModal") } }) }), $("body").on("click", "#btnRejectDataFromPage", function () { var e = $("#CompanyMatch").val(), t = $("#StreetNo").val(), a = $("#StreetName").val(), n = $("#CityName").val(), o = $("#StateName").val(), r = $("#PostalCode").val(), c = $("#Telephone").val(), i = $("#SelectTopMatch").prop("checked"), s = $("#minConfidentCode").val(), l = ConvertEncrypte(encodeURI("CompanyMatch:" + e + "@#$CityName:" + n + "@#$StreetNo:" + t + "@#$StateName:" + o + "@#$StreetName:" + a + "@#$PostalCode:" + r + "@#$Telephone:" + c + "@#$SelectTopMatch:" + i + "@#$minConfidentCode:" + s)).split("+").join("***"), d = $('input[name="__RequestVerificationToken"]').val(), p = "/StewardshipPortal/RejectDataFromPage?Parameters=" + l; bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: rejectCurrentPageRecords, callback: function (e) { e && $.ajax({ type: "POST", url: p, headers: { __RequestVerificationToken: d }, dataType: "json", contentType: "application/json; charset=UTF-8", cache: !1, success: function (e) { "" != e ? ShowMessageNotification("error", e, !1, !0, LocationReload) : "" == e && parent.ShowMessageNotification("success", noRecordsFound, !1, !1) }, error: function (e, t, a) { } }) } }) }), $("body").on("click", ".Enrichment", function () { var e = $(this).closest(".trMatchedItemView").prev().children(".trStewardshipPortal_td10"), t = JSON.parse(e.attr("data-val")), a = $(this).attr("data-dunsnumber"), n = t.CompanyName, o = t.Address, r = t.City, c = t.State, i = t.PostalCode, s = t.CountryISOAlpha2Code, l = t.SrcRecordId, d = t.PhoneNbr, p = $(this).attr("data-country"), u = t.RegistrationNbr, h = t.Website, m = ConvertEncrypte(encodeURI("DunsNumber:" + a + "@#$Company:" + n + "@#$Address:" + o + "@#$City:" + r + "@#$State:" + c + "@#$Postal:" + i + "@#$CountryCode:" + s + "@#$SrcId:" + l + "@#$Phone:" + d + "@#$Country:" + p + "@#$RegNo:" + u + "@#$Website:" + h)).split("+").join("***"); $.ajax({ type: "GET", url: "/StewardshipPortal/PreviewEnrichmentData?Parameters=" + m, dataType: "HTML", success: function (e) { $("#EnrichmentDetailModalMain").html(e), DraggableModalPopup("#EnrichmentDetailModal") } }) }), $(document).on("click", ".InnerGoogleMapPopUp", function () { var e = "Address:" + $(this).attr("data-val") + "@#$IsFromSearch:false", t = parent.ConvertEncrypte(encodeURI(e)).split("+").join("***"); $.ajax({ type: "GET", url: "/SearchData/ValidateGoogleMapPopUp?Parameters=" + t, dataType: "HTML", async: !1, success: function (e) { $("#GoogleMapModalMain").html(e), DraggableModalPopup("#GoogleMapModal") } }) });
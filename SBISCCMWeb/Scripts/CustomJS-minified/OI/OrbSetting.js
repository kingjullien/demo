function SuccessOrbLicense(e) { ShowMessageNotification("success", e.message, !1), e.result && ($("#OrbCredentialsMessgae").remove(), LoadOrbLicense()) } function LoadOrbLicense() { $.pjax({ url: "/OI/Setting/License", container: "#divPartialOrbLicense", timeout: 5e4 }).done(function () { }) } function LoadOrbBackground() { $.ajax({ type: "GET", url: "/OISetting/OIBackgroundProcessSettings/", dataType: "HTML", contentType: "application/html", cache: !1, success: function (e) { $("#divPartialOrbBackgroundProcessSettings").html(e) }, error: function (e, t, a) { } }) } function SuccessOrbBackground(e) { ShowMessageNotification("success", e.message, !1), e.result && ($("#OrbBackgroundMessgae").remove(), LoadOrbBackground()) } function CheckBackgroundValidation() { var e = 0, t = $("#ORB_BATCH_SIZE").val(), a = $("#ORB_BATCH_WAITTIME_SECS").val(), n = $("#ORB_MAX_PARALLEL_THREADS").val(); return $("#PAUSE_ORB_BATCHMATCH_ETL").val($("#PAUSE_ORB_BATCHMATCH_ETL").is(":checked")), $("#ORB_ENABLE_CORPORATE_TREE_ENRICHMENT").val($("#ORB_ENABLE_CORPORATE_TREE_ENRICHMENT").is(":checked")), "" == t.trim() ? ($("#SpnBatchsize").show(), e++) : $("#SpnBatchsize").hide(), "" == a.trim() ? ($("#SpnBatchWaittimeSecs").show(), e++) : $("#SpnBatchWaittimeSecs").hide(), "" == n.trim() ? ($("#SpnMaxParallelThreads").show(), e++) : $("#SpnMaxParallelThreads").hide(), !(e > 0) } function CheckCredentialValidation() { var e = 0; return "" == $("#ORB_API_KEY").val().trim() ? ($("#spnOrbApiKey").show(), e++) : $("#spnOrbApiKey").hide(), !(e > 0) } function LoadDataImportDuplicateResolutionTags() { if (null != $("#DATA_IMPORT_DUPLICATE_RESOLUTIONTagList").val()) { var e = $("#DATA_IMPORT_DUPLICATE_RESOLUTIONTagList").val().split(","); null == e && "" == e || ($("#DataImportDuplicateResolutionTagValue option").each(function () { for (var t = 0; t < e.length; t++)$(this).val() == e[t] && $(this).attr("selected", "selected") }), $("#ORB_DATA_IMPORT_DUPLICATE_RESOLUTION_TAGS").val(e)), $("#DataImportDuplicateResolutionTagValue").length > 0 && $("#DataImportDuplicateResolutionTagValue").chosen().change(function (e) { e.target == this && $("#ORB_DATA_IMPORT_DUPLICATE_RESOLUTION_TAGS").val($(this).val()) }) } } function SuccessOrbImportDataHandling(e) { ShowMessageNotification("success", e.message, !1), e.result && ($("#OrbDataImportHandlingMessgae").remove(), LoadOrbDataImportHandlingMessgae()) } function LoadOrbDataImportHandlingMessgae() { $.ajax({ type: "GET", url: "/OISetting/IndexDataImportHandling/", dataType: "HTML", contentType: "application/html", cache: !1, success: function (e) { $("#divPartialDataImportHandling").html(e), LoadDataImportDuplicateResolutionTags() }, error: function (e, t, a) { } }) } function LoadOIAutoAcceptance() { $.pjax({ url: "/OI/Setting/IdentityResoultion", container: "#divPartialOIAutoAcceptance", timeout: 5e4 }).done(function () { $("table.OIAutoAcceptance tbody tr:first").addClass("current") }) } function ResetCallback() { $("#OIResetSystemDataModal").modal("hide"), location.reload() } function AddUpdateThirdPartyOrBAPICredentials(e) { $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/OISetting/AddUpdateThirdPartyOrbCredential?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***") }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupAddOrbThirdPartyAPICredentials" }) } function deleteThirdPartyAPICredentials(e) { var t = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteThirdPartyAPICredentials, callback: function (a) { if (a) return $.ajax({ type: "POST", url: "/OISetting/DeleteThirdPartyAPICredentials?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), headers: { __RequestVerificationToken: t }, dataType: "JSON", contentType: "application/json", cache: !1, success: function (e) { e.toLowerCase() == dataDeleted ? (GetIndexOrbCredentials(), ShowMessageNotification("success", e, !1)) : ShowMessageNotification("success", e, !1) }, error: function (e, t, a) { } }), !0 } }) } function callbackthirdPartyOrbAPICredentials(e) { ShowMessageNotification("success", e, !1), GetIndexOrbCredentials() } function GetIndexOrbCredentials() { $.ajax({ type: "GET", url: "/OISetting/IndexThirdPartyAPICredentials", dataType: "HTML", contentType: "application/html", cache: !1, async: !1, success: function (e) { $("#divPartialThirdPartyAPICredentials").html(e) }, error: function (e, t, a) { } }) } $("body").on("click", "#IdOrbLicenceTab", function () { document.getElementById("OrbLicenceTab").style.display = "block", LoadOrbLicense() }), $(document).ready(function () { $(location).attr("href").includes("License") && (document.getElementById("OrbLicenceTab").style.display = "block"); LoadDataImportDuplicateResolutionTags() }), $(document).on("click", "#IdOrbIdentityResolutionTab", function () { LoadOIAutoAcceptance() }), $(document).on("click", "#btnAddOIAutoAcceptance", function () { $.ajax({ type: "GET", url: "/OISetting/InsertUpdateOIAutoAcceptance/", dataType: "HTML", async: !1, success: function (e) { $("#AddOIAutoAcceptanceModalMain").html(e), DraggableModalPopup("#AddOIAutoAcceptanceModal") } }) }), $(document).on("click", ".editOIAutoAcceptance", function () { var e = $(this).attr("data-id"), t = ConvertEncrypte(encodeURI("RuleId:" + e)).split("+").join("***"); $.ajax({ type: "GET", url: "/OISetting/InsertUpdateOIAutoAcceptance?Parameters=" + t, dataType: "HTML", async: !1, success: function (e) { $("#AddOIAutoAcceptanceModalMain").html(e), DraggableModalPopup("#AddOIAutoAcceptanceModal") } }) }), $(document).on("click", ".DeleteOIAutoAcceptance", function () { var e = $(this).attr("id"); null == e && (e = 0); var t = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteAutoAcceptancemsg, callback: function (a) { if (a) return $.ajax({ type: "POST", url: "/OISetting/DeleteAutoAcceptance?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), headers: { __RequestVerificationToken: t }, dataType: "JSON", contentType: "application/json", cache: !1, success: function (e) { ShowMessageNotification("success", e, !1), LoadOIAutoAcceptance() }, error: function (e, t, a) { } }), !0 } }) }), $("body").on("click", "#btnResetOISystemData", function () { return $.ajax({ type: "GET", url: "/OISetting/ResetOISystemData", dataType: "HTML", success: function (e) { $("#OIResetSystemDataModalMain").html(e), DraggableModalPopup("#OIResetSystemDataModal") } }), !1 }), $(document).on("click", "#AddOrbThirdPartyAPICredentials", function () { AddUpdateThirdPartyOrBAPICredentials(0) }), $(document).on("click", ".editThirdPartyAPICredentials", function () { var e = $(this).attr("data-CredentialId"); null != e && null != e && "" != e && AddUpdateThirdPartyOrBAPICredentials(e) }), $(document).on("click", ".deleteThirdPartyAPICredentials", function () { var e = $(this).attr("data-CredentialId"); null != e && null != e && "" != e && deleteThirdPartyAPICredentials(e) }), $(document).on("keypress", "#ORB_BATCH_SIZE", function (e) { var t = 0 == e.keyCode ? e.charCode : e.keyCode; return t >= 48 && t <= 57 }), $(document).on("keypress", "#ORB_BATCH_WAITTIME_SECS", function (e) { var t = 0 == e.keyCode ? e.charCode : e.keyCode; return t >= 48 && t <= 57 }), $(document).on("keypress", "#ORB_MAX_PARALLEL_THREADS", function (e) { var t = 0 == e.keyCode ? e.charCode : e.keyCode; return t >= 48 && t <= 57 });
function onchangeMultiSelect(e, t) { var s = "#" + e.context.parentElement.id; "#multiselectoptionrevenue" == s.toLowerCase() && $("#request_fields_revenue").val($(s).val()), "#multiselectoptionsemployees" == s.toLowerCase() && $("#request_fields_employees").val($(s).val()) } function OIExportToExcel() { if ($(".divOIBuildSearch").length > 0) { window.location.href = "/OIBuildList/ExportToExcel" } else ShowMessageNotification("success", noRecordsFound, !1) } function OnSearch(e) { $("#divGrid").html(e), BindTab() } function BindTab() { $(".tabs").each(function (e, t) { $(t).tabs() }) } function ClearOIDataBuildList() { $("#request_fields_industry").val($("#request_fields_industry option:first").val()), $("#request_fields_industry").trigger("chosen:updated"), $("#request_fields_entity_type").val(""), $("#request_fields_category").val($("#request_fields_category option:first").val()), $("#request_fields_category").trigger("chosen:updated"), $("#MultiSelectOptionsEmployees").multiselect("clearSelection"), $("#MultiSelectOptionsEmployees").multiselect("refresh"), $("#MultiSelectOptionRevenue").multiselect("clearSelection"), $("#MultiSelectOptionRevenue").multiselect("refresh"), $('input[type="radio"]').prop("checked", !0), $("#request_fields_orb_num").val(""), $("#request_fields_parent_orb_num").val(""), $("#request_fields_ultimate_parent_orb_num").val(""), $("#request_fields_address1").val(""), $("#request_fields_city").val(""), $("#request_fields_state").val(""), $("#request_fields_zip").val(""), $("#request_fields_country").val(""), $("#request_fields_techs").val($("#request_fields_techs option:first").val()), $("#request_fields_techs").trigger("chosen:updated"), $("#request_fields_tech_categories").val($("#request_fields_tech_categories option:first").val()), $("#request_fields_tech_categories").trigger("chosen:updated"), $("#request_fields_naics_codes").val($("#request_fields_naics_codes option:first").val()), $("#request_fields_naics_codes").trigger("chosen:updated"), $("#request_fields_sic_codes").val($("#request_fields_sic_codes option:first").val()), $("#request_fields_sic_codes").trigger("chosen:updated"), $("#request_fields_cik").val(""), $("#request_fields_ticker").val($("#request_fields_ticker option:first").val()), $("#request_fields_ticker").trigger("chosen:updated"), $("#request_fields_cusip").val(""), $("#request_fields_include").val(""), $("#request_fields_exchange").val(""), $("#request_fields_importance_score").val(""), $("#request_fields_rankings").val($("#request_fields_rankings option:first").val()), $("#request_fields_rankings").trigger("chosen:updated"), $("#divGrid").html(""), $("#divGrid").html('<table class=""><td colspan="10" class="noContain">' + noDataAreAvailable + "</td></table>") } function ClosePopup(e) { window.parent.$(".loaderMain").show(), window.parent.$(".loaderMain").css("z-index", "9999999"), $("#GetOISearchHistoryModal").modal("hide"), $.ajax({ type: "POST", url: "/OIBuildList/ViewHistory", data: JSON.stringify({ Id: e }), dataType: "json", contentType: "application/json; charset=utf-8", processData: !1, async: !1, success: function (e) { if (e.Success) { var t = jQuery.parseJSON(e.Object[0].RequestJson); JSON.stringify(JSON.parse(e.Object[0].ResponseJson), null, "\t"); if (null != t) { if (window.parent.$("#request_fields_industry").val(t.industry), window.parent.$("#request_fields_industry").trigger("chosen:updated"), window.parent.$("#request_fields_entity_type").val(t.entity_type), window.parent.$("#request_fields_category").val(t.category), window.parent.$("#request_fields_category").trigger("chosen:updated"), t.employees.length > 0) { var s = t.employees[0].split(","); window.parent.$("#MultiSelectOptionsEmployees option").each(function () { for (var e = 0; e < s.length; e++)$(this).val() == s[e] && $(this).attr("selected", "selected") }) } if (window.parent.$("#MultiSelectOptionsEmployees").multiselect("refresh"), t.revenue.length > 0) { var i = t.revenue[0].split(","); window.parent.$("#MultiSelectOptionRevenue option").each(function () { for (var e = 0; e < i.length; e++)$(this).val() == i[e] && $(this).attr("selected", "selected") }) } window.parent.$("#MultiSelectOptionRevenue").multiselect("refresh"), 1 == t.show_full_profile ? window.parent.$("#request_fields_show_full_profile").prop("checked", !0) : 0 == t.show_full_profile && window.parent.$("#request_fields_show_full_profile").prop("checked", !1), window.parent.$("#request_fields_orb_num").val(t.orb_num), window.parent.$("#request_fields_parent_orb_num").val(t.parent_orb_num), window.parent.$("#request_fields_ultimate_parent_orb_num").val(t.ultimate_parent_orb_num), window.parent.$("#request_fields_address1").val(t.address1), window.parent.$("#request_fields_city").val(t.city), window.parent.$("#request_fields_state").val(t.state), window.parent.$("#request_fields_zip").val(t.zip), window.parent.$("#request_fields_country").val(t.country), window.parent.$("#request_fields_techs").val(t.techs), window.parent.$("#request_fields_techs").trigger("chosen:updated"), window.parent.$("#request_fields_tech_categories").val(t.tech_categories), window.parent.$("#request_fields_tech_categories").trigger("chosen:updated"), window.parent.$("#request_fields_naics_codes").val(t.naics_codes), window.parent.$("#request_fields_naics_codes").trigger("chosen:updated"), window.parent.$("#request_fields_sic_codes").val(t.sic_codes), window.parent.$("#request_fields_sic_codes").trigger("chosen:updated"), window.parent.$("#request_fields_cik").val(t.cik), window.parent.$("#request_fields_ticker").val(t.ticker), window.parent.$("#request_fields_ticker").trigger("chosen:updated"), window.parent.$("#request_fields_cusip").val(t.cusip), window.parent.$("#request_fields_include").val(t.include), window.parent.$("#request_fields_exchange").val(t.exchange), window.parent.$("#request_fields_importance_score").val(t.importance_score), window.parent.$("#request_fields_rankings").val(t.rankings), window.parent.$("#request_fields_rankings").trigger("chosen:updated"), "" != e.ResponseString || null != e.ResponseString ? (window.parent.$("#divGrid").html(e.ResponseString), BindTab()) : (window.parent.$("#divGrid").html('<table class=""><td colspan="10" class="noContain">' + noDataAreAvailable + "</td></table>"), "fa fa-plus" == window.parent.$(".searchResult ul.nav-pills li a i").attr("class") && window.parent.$(".searchResult ul.nav-pills li a").click()), window.parent.$.magnificPopup.close() } } }, error: function (e, t, s) { } }) } $(document).ready(function () { $("#MultiSelectOptionsEmployees").multiselect({ nonSelectedText: selectEmployees, onChange: function (e, t) { onchangeMultiSelect(e, t) } }), $("#MultiSelectOptionRevenue").multiselect({ nonSelectedText: selectRevenue, onChange: function (e, t) { onchangeMultiSelect(e, t) } }), $("select.chzn-select").chosen({ no_results_text: nothingFound, width: "100%", search_contains: !0 }) }), $("body").on("click", ".btnOISearchHistory", function () { return $.ajax({ type: "GET", url: "/OIBuildList/GetOISearchHistory", dataType: "HTML", async: !1, success: function (e) { $("#GetOISearchHistoryModalMain").html(e), DraggableModalPopup("#GetOISearchHistoryModal"), InitDataTable(".MatchedItems", [5, 10, 15], !1, ["0", "asc"]) } }), !1 }), $("body").on("change", ".pagevalueChange", function () { var e = $(this)[0].value; $("#divProgress").show(); var t = "/OIBuildList/Index?pagevalue=" + e; $("#divBuildList").load(t, function () { BindTab(), $("#divProgress").hide() }) }), $("body").on("show.bs.collapse", ".collapsed", function () { $(".partialrow").each(function () { $(this).removeClass("current") }), $(".panel-collapse.in").collapse("hide"), $(".trMatchedItemView").each(function () { $(this).hide() }), $(this).parents("tr").show(), $(this).parents("tr").prev().addClass("current") }), $("body").on("hide.bs.collapse", ".collapsed", function () { $(this).parents("tr").hide() });
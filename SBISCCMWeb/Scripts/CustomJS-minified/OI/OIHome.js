function BackgroundProcessStatisticsReport() { $.ajax({ type: "GET", contentType: "application/json; charset=utf-8", url: "/OIHome/OIBackgroundProcessStatistics", data: "", dataType: "json", beforeSend: function () { }, success: function (t) { var e = jQuery.parseJSON(t.Data1), a = jQuery.parseJSON(t.Data2).Table11[0][1], n = ""; "scheduled" == a.toLowerCase() ? n = "peru" : "process paused" == a.toLowerCase() ? n = "red" : "running" == a.toLowerCase() && (n = "green"), $(".spnOICleanmatch").text(a), $(".spnOICleanmatch").css("color", n); var o = 0, i = 0, r = 0, s = 0; e.Table1.length > 0 && (e.Table1[1][0], e.Table1[1][1], o = e.Table1[1][2], i = e.Table1[1][3], r = e.Table1[1][4], s = e.Table1[1][5]); var l = e.Table1.length > 0 ? [[running, o], [successful, r], [failed, i], { name: noRecordsAvailable, y: .1, dataLabels: { enabled: !1 } }] : [{ name: noRecordsAvailable, y: .1, dataLabels: { enabled: !1 } }]; $("#chtOICleanMatchBackgroundProcess").highcharts({ colors: ["#d5d5d5", "#6fd64b", "#fe642e"], chart: { plotBackgroundColor: null, plotBorderWidth: 0, plotShadow: !1, height: 200 }, title: { text: '<span style="font-size: 9px">' + lastProcess + '<br><span style="font-size: 9px">' + completed + '</span><br><span style="font-size: 9px">' + minute + '</span><br><span style="font-size: 12px">' + s + "</span>", align: "center", verticalAlign: "middle", y: 0, style: { fontFamily: '"Open Sans",Arial, Helvetica, sans-serif', textTransform: "uppercase" } }, subtitle: { text: cleanseMatch, y: 12, style: { fontFamily: '"Open Sans",Arial, Helvetica, sans-serif', paddingBottom: 0 } }, tooltip: { pointFormat: "{series.name}: {point.y}</b>" }, plotOptions: { pie: { dataLabels: { enabled: !0, distance: -10, style: { fontWeight: "normal", color: "black", fontSize: "9px", plotBorderColor: "black", plotBorderWidth: 0, fontFamily: '"Open Sans",Arial, Helvetica, sans-serif' } }, startAngle: -90, endAngle: 90, size: "130%" } }, series: [{ type: "pie", name: executions, innerSize: "60%", shadow: !1, data: l }] }) } }) } function ReFreshOIActiveStatisticsFilter() { $.ajax({ type: "GET", contentType: "application/json; charset=utf-8", url: "/OIHome/OIActiveStatisticsFilter", dataType: "json", beforeSend: function () { }, success: function (t) { $("#SpnOIActualMatchCnt a strong").text(t.InputRecordCount), $("#SpnOIUnMatchedCnt a strong").text(t.UnMatchRecordCount), $("#SpnMatchOutputCnt a strong").text(t.MatchedOutputQueueCount), $("#SpnFirmographicsCnt a strong").text(t.FirmographicsExportQueueCount), $("#SpnCompanyTreeCnt a strong").text(t.CorporateTreeExportQueueCount), $("#TitleOIActualMatchCnt").attr("title", t.FormatInputRecordCount), $("#TitleOIUnMatchedCnt").attr("title", t.FormatUnMatchRecordCount), $("#TitleMatchOutputCnt").attr("title", t.FormatMatchedOutputQueueCount), $("#TitleFirmographicsCnt").attr("title", t.FormatFirmographicsExportQueueCount), $("#TitleCompanyTreeCnt").attr("title", t.FormatCorporateTreeExportQueueCount), $("#TitleOIActualMatchCnt").attr("data-original-title", t.FormatInputRecordCount), $("#TitleOIUnMatchedCnt").attr("data-original-title", t.FormatUnMatchRecordCount), $("#TitleMatchOutputCnt").attr("data-original-title", t.FormatMatchedOutputQueueCount), $("#TitleFirmographicsCnt").attr("data-original-title", t.FormatFirmographicsExportQueueCount), $("#TitleCompanyTreeCnt").attr("data-original-title", t.FormatCorporateTreeExportQueueCount) } }) } function ReFreshOIAPIUsagestatistics() { $.ajax({ type: "GET", contentType: "application/json; charset=utf-8", url: "/OIHome/OIAPIUsagestatisticsReFresh", dataType: "json", beforeSend: function () { }, success: function (t) { $("#spnOIMonthCnt a strong").text(t.FormatMonthCount), $("#spnOIYTD a strong").text(t.FormatYTDCount), $("#spnOIAllCount a strong").text(t.FormatAllAPIUsageCount), $("#spnLastOneDay a strong").text(t.FormatHourlyAPIUsageCount), $("#titleOIMonthCnt").attr("title", t.MonthCount), $("#titleOIYTD").attr("title", t.YTDCount), $("#titleOIAllCount").attr("title", t.AllAPIUsageCount), $("#titleLastOneDay").attr("title", t.HourlyAPIUsageCount), $("#titleOIMonthCnt").attr("data-original-title", t.MonthCount), $("#titleOIYTD").attr("data-original-title", t.YTDCount), $("#titleOIAllCount").attr("data-original-title", t.AllAPIUsageCount), $("#titleLastOneDay").attr("data-original-title", t.HourlyAPIUsageCount) } }) } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide() }), $(document).ready(function () { $('[data-toggle="tooltip"]').tooltip(), BackgroundProcessStatisticsReport() }), $(document).on("click", "#ShowOIAPIUsageTable", function () { $.ajax({ type: "GET", url: "/OIHome/OIAPIUsageStatisticsGrid/", dataType: "HTML", async: !1, success: function (t) { $("#OIAPIUsageStatisticsGridModalMain").html(t), DraggableModalPopup("#OIAPIUsageStatisticsGridModal"), onLoadDataQueueStatistics() } }) }), $(document).on("click", "#btnOIActiveDataRefresh", function () { ReFreshOIActiveStatisticsFilter() }), $(document).on("click", "#btnBackgroundtatisticsRefresh", function () { BackgroundProcessStatisticsReport() }), $(document).on("click", "#btnOIAPIUsagestatisticsRefresh", function () { ReFreshOIAPIUsagestatistics() });
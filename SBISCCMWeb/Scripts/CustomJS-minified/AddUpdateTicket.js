function isValidEmailAddress(e) { return /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(e) } function myFunction() { $("#divProgress").show(), $("#AddUpdateticketFrm").valid() || $("#divProgress").hide() } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide() }), $(document).ready(function () { $(".browserimg").each(function () { "" == $(this).attr("src") && $(this).parent().hide() }) }), jQuery(function (e) { e(".maskPhone").mask("(999) 999-9999") }), $("body").on("change", ".browserFile", function () { var e = $('input[name="__RequestVerificationToken"]').val(); $("#divProgress").show(); var F = new FormData, u = $("#hdnTicketId").val(); document.getElementById("file").files[0]; F.append("file", $("#file")[0].files[0]), F.append("TicketId", u), $.ajax({ type: "POST", url: "/Ticket/UploadImage", data: F, headers: { __RequestVerificationToken: e }, contentType: !1, processData: !1, success: function (e) { e.indexOf("Only formats allowed are") >= 0 ? (ShowMessageNotification("success", e, !1), $("#file").val("")) : e == wrongFormat ? (ShowMessageNotification("success", formatsAllowed, !1), $("#file").val("")) : $("#divUploadImage").html(e), $(".browserimg").each(function () { "" == $(this).attr("src") && $(this).parent().hide() }), $("#divProgress").hide() }, error: function (e, F, u) { $("#divProgress").hide() } }) }), $("body").on("click", ".removeImage", function () { var e = $('input[name="__RequestVerificationToken"]').val(), F = $(this).attr("data-id"), u = $("#hdnTicketId").val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: removeImageFile, callback: function (a) { a && ($("#divProgress").show(), $.ajax({ type: "POST", url: "/Ticket/RemoveImage?ImageName=" + F + "&TicketId=" + u, headers: { __RequestVerificationToken: e }, contentType: !1, processData: !1, success: function (e) { $("#divUploadImage").html(e), $(".browserimg").each(function () { "" == $(this).attr("src") && $(this).parent().hide() }), $("#divProgress").hide() }, error: function (e, F, u) { $("#divProgress").hide() } })) } }) }), $("body").on("click", ".downloadImage", function () { var e = "/Handler/DownloadFile.ashx?ImageName=" + $(this).attr("data-id"); window.location.href = e });
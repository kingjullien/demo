var regex = new RegExp("^[a-zA-Z0-9-_ ]+$"); $("body").on("click", ".filenameCheck", function () { var e = $("#IsIncludeSubdomain").prop("checked"), i = $("#isIncludeSecRecordId").prop("checked"), a = $("#IsIncludeDateTime").prop("checked"), n = "", t = $("#tempdomain").val(), o = $("#tempSrcRecID").val().replace(":", ""), r = $("#tempSpanTime").val(); e && (n += t), i && (n += o), a && (n += r), $("#zipFileName").val(n.slice(0, -1)) }), $("body").on("click", "#btnSubmitExportName", function () { var e = $.trim($("#zipFileName").val()); if ("" == e) return $("#spnzipfilename").show(), $("#spnzipvalidfilename").hide(), !1; if (!regex.test(e)) return $("#zipFileName").val(""), $("#spnzipfilename").hide(), $("#spnzipvalidfilename").show(), !1; $("#spnzipfilename").hide(), $("#spnzipvalidfilename").hide(); var i = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ExportView/IsExistExportFileName?Parameters=" + ConvertEncrypte(e).split("+").join("***"), headers: { __RequestVerificationToken: i }, dataType: "json", contentType: "application/json", async: !1, cache: !1, success: function (i) { $("#ExportFileNameModal").modal("hide"), i == notExist ? parent.ExportSubmitProcess(e) : i == exist ? ShowMessageNotification("success", fileNameExists, !1) : ShowMessageNotification("success", i, !1) }, error: function (e, i, a) { } }) }), $("body").on("keypress", "#zipFileName", function (e) { var i = String.fromCharCode(e.charCode ? e.charCode : e.which); return !!regex.test(i) || (8 == e.keyCode || 37 == e.keyCode || 38 == e.keyCode || 39 == e.keyCode || 40 == e.keyCode || (e.preventDefault(), !1)) }), $("body").on("blur", "#zipFileName", function (e) { var i = this.value; if (regex.test(i)) return !0; this.value = "" });
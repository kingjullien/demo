function UpdateUserComments(t) { if (ShowMessageNotification("success", t.message, !1), t.result) { $("#UserCommentsMessage").remove(); var e = $(".UserCommentspagevalueChange").val(), a = $("#UserCommentsSortBy").val(), o = $("#UserCommentsSortOrder").val(); LoadUserComments("/Portal/IndexUserComments/?page=" + $("#UserCommentspage").val() + "&pagevalue=" + e + "&sortby=" + a + "&sortorder=" + o) } } function OnSuccessUserComments() { $("table.UserCommentTB tbody tr:first").addClass("current"); var t = $("table.UserCommentTB tbody tr:first").attr("data-CommentId"); null == t && (t = 0), $.ajax({ type: "GET", url: "/Portal/AddUpdateUserComments", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("#AddUpdateUserCommentsId").html(t), 0 == $("table.UserCommentTB tbody tr").length && $("#editUserComment").attr("disabled", !0) } }), $("#divProgress").hide() } function EnableUserComment() { $("#CommentType").attr("disabled", !1), $("#Comment").attr("disabled", !1), $("#btnUsersComments").show() } function UpdateAttributeSuccess(t) { if (ShowMessageNotification("success", t.message, !1), t.result) { $("#CustomAttributeMessage").remove(), $("#AttributeName").prop("disabled", !0), $("#AttributeDataTypeCode").prop("disabled", !0), $("#btnConfigCustomAttribute").hide(); $("#AttributeId").val(); $.pjax({ url: "/Portal/CompanyAttributes", container: "#divPartialCompanyAttribute", timeout: 5e4 }).done(function () { InitPortalCompanyAttributeDataTable(), OnSuccessCustomAttribute() }) } } function OnSuccessCustomAttribute() { $("table.compnyAttribute tbody tr:first").addClass("current"); var t = $("table.compnyAttribute tbody tr:first").attr("data-attributeid"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCompanyAttribute", dataType: "HTML", contentType: "application/html", cache: !1, data: { Parameters: t }, success: function (t) { $("#divPartialAddUpdateCompanyAttribute").html(t), $("table.compnyAttribute tbody tr:first").addClass("current"), $("table.compnyAttribute tbody tr:first").html().indexOf("No records found") > 0 && $("table.compnyAttribute tbody tr:first").removeClass("current"), 0 == $("table.compnyAttribute tbody tr").length && $("#editCostomAttribute").attr("disabled", !0) } }) } function SaveTags() { $('input[name="__RequestVerificationToken"]').val(); return "" != $("#txtTags").val().trim() && "" != $("#TagTypeCode").val().trim() ? ($("#spnSearchText").hide(), $("#spnTag").hide(), !0) : ("" == $("#txtTags").val().trim() ? $("#spnSearchText").show() : $("#spnSearchText").hide(), "" == $("#TagTypeCode").val().trim() ? $("#spnTag").show() : $("#spnTag").hide(), !1) } function UpdateMangeTagSuccess(t) { ShowMessageNotification("success", t.message, !1), t.result ? $.pjax({ url: "/Portal/Tags", container: "#divPartialManageTags", timeout: 5e4 }).done(function () { OnSuccessManageTag() }) : "lob" == $.UserRole.toLowerCase() && ($("#frmTag #TagTypeCode option[value='601006@#$LOB']").remove(), $("#frmTag #LOBTag").val($.UserLOBTag), $("#frmTag #LOBTag").attr("disabled", !0)) } function OnSuccessManageTag() { $("table.TagsTB tbody tr:first").addClass("current"); var t = $("table.TagsTB tbody tr:first").attr("data-TagId"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCompanyTags", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("#divPartialAddUpdateTags").html(t), InitPortalTagsDataTable(); var e = $("#Tagvalue").val(); $("#TagTypeCode").val(e), "lob" == (null == $("#TagTypeCode").val() ? "" : $("#TagTypeCode").val().split("@#$")[1]).toLowerCase() ? ($("#LOBTag").val(""), $("#LOBTag option:selected").text(""), $(".clsLobtag").hide()) : $(".clsLobtag").show(), 0 == $("table.TagsTB tbody tr").length && $("#editTag").attr("disabled", !0) } }) } function UserUpdateSuccess(t) { if (ShowMessageNotification("success", t.message, !1, !1), t.result) { $("#UserName").prop("disabled", !0), $("#EmailAddress").prop("disabled", !0), $("#UserStatusCode").prop("disabled", !0), $("#UserTypeCode").prop("disabled", !0), $("#LOBTag").prop("disabled", !0), $("#TagsValue").prop("disabled", !0), $(".chzn-select").trigger("chosen:updated"), $("#IsApprover").prop("disabled", !0), $("#EnableInvestigations").prop("disabled", !0), $("#EnablePurgeData").prop("disabled", !0), $("#EnableSearchByDUNS").prop("disabled", !0), $("#EnableCreateAutoAcceptRules").prop("disabled", !0), $("#btnConfigDataUser").hide(), $("#form_ConfigData .OpenTags").hide(); $(".userspagevalueChange").val(), $("#UserSortBy").val(), $("#UserSortOrder").val(), $("#UserPage").val(), $("#UserId").val(); $.pjax({ url: "/Portal/Users", container: "#divUser", timeout: 5e4 }).done(function () { InitPortalUserDataTable(), OnSuccessUser() }) } } function OnSuccessUser() { $("table.userTB tbody tr:first").addClass("current"); var t = $("table.userTB tbody tr:first").attr("data-userids"); $.ajax({ type: "GET", url: "/Portal/AddUpdateUsers", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: t }, success: function (t) { $("#divPartialAddUpdateUsers").html(t), updateTagListOnchangeOrAdd(), LoadTags(), $("#MultiSelectSecurityOptions").multiselect({ includeSelectAllOption: !0, nonSelectedText: "Select Permission" }) } }), $("#divProgress").hide() } function EnableUserFields() { $("#UserName").prop("disabled", !1), $("#EmailAddress").prop("disabled", !1), $("#UserStatusCode").prop("disabled", !1), $("#UserTypeCode").prop("disabled", !1), $("#LOBTag").prop("disabled", !1), $("#TagsValue").prop("disabled", !1), $(".chzn-select").trigger("chosen:updated"), $("#IsApprover").prop("disabled", !1), $("#EnableInvestigations").prop("disabled", !1), $("#EnablePurgeData").prop("disabled", !1), $("#EnableSearchByDUNS").prop("disabled", !1), $("#EnableCreateAutoAcceptRules").prop("disabled", !1), $("#SSOUser").attr("disabled", !1), $("#btnConfigDataUser").show(), $("#form_ConfigData .OpenTags").show() } function LoadTags() { var t = $("#TagList").val().split(","); null == t && "" == t || ($(".chzn-select option").each(function () { for (var e = 0; e < t.length; e++)$(this).val() == t[e] && $(this).attr("selected", "selected") }), $("#Tags").val(t)), $(".chzn-select").length > 0 && $(".chzn-select").chosen().change(function (t) { t.target == this && ($("#Tags").val($(this).val()), checkVAlidInclusiveTags()) }) } function updateTagListOnchangeOrAdd() { var t = $("#form_ConfigData #LOBTag").val(), e = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/Portal/GetLOBTags", data: JSON.stringify({ LOBTag: t }), dataType: "json", contentType: "application/json", headers: { __RequestVerificationToken: e }, processData: !1, async: !1, success: function (t) { $("#TagsValue").find("option").remove().end(); var e = ""; $.each(t.Data, function (a) { e = e + t.Data[a].Tag + ",", $("#TagsValue").append($("<option></option>").val(t.Data[a].Tag).html(t.Data[a].Tag)) }), $("#TagsValue").trigger("chosen:updated") }, error: function (t, e, a) { } }) } function isValidEmailAddress(t) { return /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(t) } function loadUserList() { $.pjax({ url: "/Portal/Users", container: "#divUser", timeout: 5e4 }).done(function () { InitPortalUserDataTable(), $("table.userTB tbody tr:first").addClass("current"), OnSuccessUser() }) } function OnSuccessCountryGrp() { $("table.CntryGrp tbody tr:first").addClass("current"); var t = $("table.CntryGrp tbody tr:first").attr("data-cntrygroupid"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCountryGrp", dataType: "HTML", contentType: "application/html", cache: !1, data: { Parameters: t }, success: function (t) { $("#divPartialaddUpdateCountryGrp").html(t), InitPortalCountryGroupDataTable(), 0 == $("table.CntryGrp tbody tr").length && $("#editCountryGroup").attr("disabled", !0) } }), $("#divProgress").hide() } function UpdateCountryGroup(t) { if (ShowMessageNotification("success", t.message, !1), t.result) { $("#objCountryGroup_GroupName").prop("disabled", !0), $("#objCountryGroup_AddSelectedCountry").prop("disabled", !0), $("#objCountryGroup_RemoveSelectedCountry").prop("disabled", !0), $("#btnConfigCountryGroupRight").prop("disabled", !0), $("#btnConfigCountryAllRight").prop("disabled", !0), $("#btnConfigCountryGroupLeft").prop("disabled", !0), $("#btnConfigCountryGroupAllLeft").prop("disabled", !0), $("#btnConfigCountryGroup").hide(), $("#PortalCountryGroupModal").modal("hide"); LoadCountryGroup("/Portal/indexCountryGrp/"); var e = $(".CountryGroupName").val(); CallbackCountryGroup(e) } } function CloseImportPanel() { $("#PortalCountryGroupImportModal").modal("hide"), $.ajax({ type: "GET", url: "/Portal/CountryDataMatch", dataType: "HTML", async: !1, success: function (t) { $("#CountryGroupImportModalMain").html(t), DraggableModalPopup("#CountryGroupImportModal") } }) } function addEntityToSelection(t) { $("#txtEntity").val(""); var e = "/Portal/indexEntity/?pagevalue=" + $(".CDSEntityPageValueChange").val() + "&sortby=" + $("#CDSEntitySortBy").val() + "&sortorder=" + $("#CDSEntitySortOrder").val(); $.ajax({ type: "POST", url: e, dataType: "HTML", contentType: "application/html", async: !1, cache: !1, success: function (t) { $("#divPartialCDSEntity").html(t) }, error: function (t, e, a) { } }) } function OnSuccessEntity() { $("#divProgress").hide() } function sumbitntity() { var t = $("#txtEntity").val(); return "" == t || null == t ? ($("#spnEntity").show(), !1) : ($("#spnEntity").hide(), !0) } function sumbitEnvironment() { var t = $("#txtEnvironment").val().trim(), e = $("#txtOrganizationUrl").val().trim(), a = $("#txtTenantId").val().trim(), o = 0; if ("" == t || null == t ? ($("#spnEnvironment").show(), o++) : $("#spnEnvironment").hide(), "" == e || null == e ? ($("#spnOrganizationUrl").show(), o++) : $("#spnOrganizationUrl").hide(), "" == a || null == a ? ($("#spnTenantId").show(), o++) : $("#spnTenantId").hide(), o > 0) return !1 } function UpdateEnvironment(t) { $("body").append(t); var e = $("#EnvironmentMessage").val(); if (ShowMessageNotification("success", e, !1), $("#EnvironmentMessage").remove(), e.indexOf("Environment Name already exist.") > 0 || "Please fill proper information." == e) return !1; $("#txtEnvironment").val(""), $("#txtOrganizationUrl").val(""), $("#txtTenantId").val(""); var a = "/Portal/indexEnvironment/?pagevalue=" + $("CDSEnvironmentPageValueChange").val() + "&sortby=" + $("#CDSEnvironmentSortBy").val() + "&sortorder=" + $("#CDSEnvironmentSortOrder").val(); $.ajax({ type: "POST", url: a, dataType: "HTML", contentType: "application/html", async: !1, cache: !1, success: function (t) { $("#divPartialCDSEnvironment").html(t), onSuccessEnvironment() }, error: function (t, e, a) { } }) } function onSuccessEnvironment() { $("table.EnvironmentTB tr").each(function () { $(this).removeClass("current") }), $("table.EnvironmentTB tbody tr:first").addClass("current"); var t = $("table.EnvironmentTB tbody tr:first").attr("data-OrganizationUrl"); $.ajax({ type: "GET", url: "/Portal/AddEnvironMent", dataType: "HTML", contentType: "application/html", cache: !1, data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("table.EnvironmentTB tbody tr:first").html().indexOf("No records found") > 0 && $("table.EnvironmentTB tbody tr:first").removeClass("current"), $("#divPartialAddUpdateCDSEnvironment").html(t), 0 == $("table.EnvironmentTB tbody tr").length && $("#EditEnvironment").attr("disabled", !0) } }), $("#divProgress").hide() } function LoadCountryGroup(t) { $.pjax({ url: "/Portal/CountryGroup", container: "#divCountry", timeout: 5e4 }).done(function () { InitPortalCountryGroupDataTable(), $("table.CntryGrp tbody tr:first").addClass("current"), OnSuccessCountryGrp() }) } function LoadUserComments(t) { $.pjax({ url: "/Portal/UserComments", container: "#divPartialUserComments", timeout: 5e4 }).done(function () { InitPortalUserCommentsDataTable(), OnSuccessUserComments() }) } function LoadCompanyAttribute(t) { $.pjax({ url: "/Portal/CompanyAttributes", container: "#divPartialCompanyAttribute", timeout: 5e4 }).done(function () { InitPortalCompanyAttributeDataTable(), $("table.compnyAttribute tbody tr:first").addClass("current"), OnSuccessCustomAttribute() }) } function ResetCallback() { window.parent.$.magnificPopup.close(), location.reload() } function CheckUserTypeForUserRole() { var t = $("#form_ConfigData #UserTypeCode").val(); "102001" == t ? ($("#form_ConfigData #TagsValue").prop("disabled", !0), $("#form_ConfigData #TagsValue").val("0"), $("#form_ConfigData #Tags").val(), $("#form_ConfigData #TagsValue").attr("data-placeholder", notApplicable), $("#form_ConfigData .OpenTags").hide(), $("#form_ConfigData #TagsInclusive").prop("checked", !1), $("#form_ConfigData #TagsInclusive").prop("disabled", !0)) : "102002" == t && ($("#form_ConfigData #TagsValue").prop("disabled", !1), $("#form_ConfigData #TagsValue").attr("data-placeholder", addTagOptional), $("#form_ConfigData .OpenTags").show(), checkVAlidInclusiveTags()), $("#form_ConfigData #TagsValue").trigger("chosen:updated"), "lob" == $.UserRole.toLowerCase() && ($("#form_ConfigData #ddLOBTag").val($.UserLOBTag), $("#form_ConfigData #LOBTag").val($.UserLOBTag), $("#form_ConfigData #ddLOBTag").attr("disabled", !0)) } function checkVAlidInclusiveTags() { "102002" == $("#form_ConfigData #UserTypeCode").val() && ("" != $("#form_ConfigData #Tags").val() && $("#form_ConfigData #Tags").val().split(",").length > 1 ? $("#form_ConfigData #TagsInclusive").prop("disabled", !1) : ($("#form_ConfigData #TagsInclusive").prop("disabled", !0), $("#form_ConfigData #TagsInclusive").prop("checked", !1))) } function LoadDPMFTPConfiguration(t) { $.pjax({ url: "/Portal/DPMFTPConfiguration", container: "#divPartialIndexFTPConfiguration", timeout: 5e4 }).done(function () { InitPortalDPMFTPConfigurationDataTable(), $("table.TbFTPConfiguration tbody tr:first").addClass("current"), OnSuccessDPMFTPConfiguration() }) } function OnSuccessDPMFTPConfiguration() { $("table.TbFTPConfiguration tbody tr:first").addClass("current"); var t = $("table.TbFTPConfiguration tbody tr:first").attr("data-FTPConfigurationId"); $.ajax({ type: "GET", url: "/Portal/AddDPMFTPConfiguration", dataType: "HTML", contentType: "application/html", cache: !1, data: { Parameters: t }, success: function (t) { $("#divPartialAddUpdateFTPConfiguration").html(t), 0 == $("table.TbFTPConfiguration tbody tr").length && $("#EditFTPConfiguration").attr("disabled", !0) } }), $("#divProgress").hide() } function EnableDPMFTPConfigurationFields() { $("#Url").prop("disabled", !1), $("#Host").prop("disabled", !1), $("#Port").prop("disabled", !1), $("#UserName").prop("disabled", !1), $("#Password").prop("disabled", !1), $("#InsertDPMFTPConfiguration").show() } function UpdateDPMFTPConfigration(t) { if (ShowMessageNotification("success", t.message, !1), t.result) { LoadDPMFTPConfiguration("/Portal/IndexDPMFTPConfiguration") } } function LoadGoogleAPI(t) { $.pjax({ url: "/Portal/GoogleAPI", container: "#divPartialIndexGoogleAPI", timeout: 5e4 }).done(function () { $("table.TbGoogleAPI tbody tr:first").addClass("current") }) } function UpdateGoogleAPI(t) { if (ShowMessageNotification("success", t.message, !1), t.result) { LoadGoogleAPI("/Portal/AddGoogleAPI"), $(".divPartialAddUpdateGoogleAPI").html(t) } } function ConvertEncrypte(t) { var e = ""; return "" != t && null != t && $.ajax({ type: "POST", url: "/Home/GetEncryptedString", data: JSON.stringify({ strValue: t }), dataType: "json", contentType: "application/json", async: !1, success: function (t) { e = t }, error: function (t, e, a) { } }), e } function InitPortalUserDataTable() { InitDataTable(".userTB", [10, 20, 30], !1, [0, "desc"]) } function InitPortalCountryGroupDataTable() { InitDataTable(".CntryGrp", [10, 20, 30], !1, [0, "desc"]) } function InitPortalTagsDataTable() { InitDataTable(".TagsTB", [10, 20, 30], !1, [0, "desc"]) } function InitPortalUserCommentsDataTable() { InitDataTable(".UserCommentTB", [10, 20, 30], !1, [0, "desc"]) } function InitPortalCompanyAttributeDataTable() { InitDataTable(".compnyAttribute", [10, 20, 30], !1, [0, "desc"]) } function InitPortalDPMFTPConfigurationDataTable() { InitDataTable(".TbFTPConfiguration", [10, 20, 30], !1, [0, "desc"]) } function InitPortalUploadConfigurationDataTable() { InitDataTable("#tbCmndMapping", [10, 20, 30], !1, [0, "desc"]) } $.UserRole = $("#UserRole").val(), $.UserLOBTag = $("#UserLOBTag").val(), $.LicenseEnableSalesforce = $("#LicenseEnableSalesforce").val(), $("body").on("click", "#UpdateFeatureSubmit", function () { var t = $('input[name="__RequestVerificationToken"]').val(), e = $("input#EnableChat").is(":checked"), a = $("input#EnableDataReset").is(":checked"), o = $("input#EnablePurgeArchivet").is(":checked"), n = $("input#ArchivePeriodDays").val(), r = $("#InactiveDays").val(); if ("" == r) return $(".InactiveDaysError").removeAttr("hidden"), !1; var i = ConvertEncrypte(encodeURI("EnableChat:" + e + "@#$EnableDataReset:" + a + "@#$EnablePurgeArchivet:" + o + "@#$ArchivePeriodDays:" + n + "@#$InactiveDays:" + r)).split("+").join("***"); $.ajax({ type: "POST", url: "/Portal/FeatureSetting?Parameters=" + i, dataType: "JSON", headers: { __RequestVerificationToken: t }, cache: !1, contentType: "application/json;", success: function (t) { ShowMessageNotification("success", t, !1) } }) }), $("body").on("change", ".UserCommentspagevalueChange", function () { LoadUserComments("/Portal/IndexUserComments/?pagevalue=" + $(this)[0].value + "&sortby=" + $("#UserCommentsSortBy").val() + "&sortorder=" + $("#UserCommentsSortOrder").val()) }), $("body").on("click", "#btnUsersComments", function () { var t = $("#Comment").val().trim(); return "" == t || null == t ? ($("#spnComment").show(), !1) : ($("#spnComment").hide(), !0) }), $("body").on("click", ".DeleteUserComment", function () { var t = $(this).attr("id"), e = $(".UserCommentspagevalueChange").val(), a = $("#UserCommentsSortBy").val(), o = $("#UserCommentsSortOrder").val(), n = $("#UserCommentspage").val(), r = $('input[name="__RequestVerificationToken"]').val(), i = "/Portal/IndexUserComments/?page=" + n + "&pagevalue=" + e + "&sortby=" + a + "&sortorder=" + o; bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (e) { if (e) return $.ajax({ type: "POST", url: "/Portal/DeleteUserComment?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***"), headers: { __RequestVerificationToken: r }, dataType: "JSON", contentType: "application/json", cache: !1, success: function (t) { ShowMessageNotification("success", t.message, !1), t.result && LoadUserComments(i) }, error: function (t, e, a) { } }), !0 } }) }), $("body").on("click", "table.UserCommentTB tbody tr", function () { if (!$(this).hasClass("current")) { $("table.UserCommentTB tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-CommentId"); $.ajax({ type: "GET", url: "/Portal/AddUpdateUserComments", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("#AddUpdateUserCommentsId").html(t), 0 == $("table.UserCommentTB tbody tr").length && $("#editUserComment").attr("disabled", !0) } }) } }), $("body").on("click", "#AddUserComment", function () { EnableUserComment(), $("#CommentType").val($("#CommentType option:first").val()), $("#Comment").val(""), $("#CommentId").val("0"), $("#btnUsersComments").val(add), $("table.UserCommentTB tr").each(function () { $(this).removeClass("current") }) }), $("body").on("click", "#editUserComment", function () { EnableUserComment(), $("#btnUsersComments").val(update) }), $("body").on("click", "table.compnyAttribute tbody tr", function () { if (!$(this).hasClass("current")) { $("table.compnyAttribute tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-AttributeId"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCompanyAttribute", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: t }, success: function (t) { $("#divPartialAddUpdateCompanyAttribute").html(t) } }) } }), $("body").on("click", "#AddCostomAttribute", function () { $(".compnyAttribute tr").each(function () { $(this).removeClass("current") }), $("#AttributeName").prop("disabled", !1), $("#AttributeDataTypeCode").prop("disabled", !1), $("#btnConfigCustomAttribute").show(), $("#AttributeId").val("0"), $("#btnConfigCustomAttribute").val(add), $("#AttributeName").val(""), $("#CustomAttributeMessage").remove() }), $("body").on("click", "#editCostomAttribute", function () { $("#AttributeName").prop("disabled", !1), $("#AttributeDataTypeCode").prop("disabled", !1), $("#btnConfigCustomAttribute").show(), $("#btnConfigCustomAttribute").val(update) }), $("body").on("click", ".deleteAttribute", function () { var t = $(this).attr("id"), e = $('input[name="__RequestVerificationToken"]').val(); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (a) { if (a) return $.ajax({ type: "POST", url: "/Portal/DeleteCustomAttribute?Parameters=" + t, headers: { __RequestVerificationToken: e }, dataType: "JSON", cache: !1, contentType: "application/json", success: function (t) { t == dataDeleted && (ShowMessageNotification("success", t, !1), url = "/Portal/indexCompanyAttribute", LoadCompanyAttribute(url)) }, error: function (t, e, a) { } }), !0 } }), !1 }), $("body").on("click", "#btnConfigCustomAttribute", function () { var t = $("#AttributeName").val().trim(); return null != t && "" != t ? ($("#spnAttributeName").hide(), !0) : ($("#spnAttributeName").show(), !1) }), $("body").on("click", ".deleteTag", function () { var t = $(this).attr("id"), e = $('input[name="__RequestVerificationToken"]').val(); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (a) { if (a) return $.ajax({ type: "POST", url: "/Portal/DeleteTag?Parameters=" + t, headers: { __RequestVerificationToken: e }, dataType: "JSON", contentType: "application/json", cache: !1, success: function (t) { ShowMessageNotification("success", t, !1), $.pjax({ url: "/Portal/Tags", container: "#divPartialManageTags", timeout: 5e4 }).done(function () { InitPortalTagsDataTable(), OnSuccessManageTag() }) }, error: function (t, e, a) { } }), !0 } }), !1 }), $("body").on("keypress", "#txtTags", function (t) { if (13 == t.which) return SaveTags(), !1; var e = 0 == t.keyCode ? t.charCode : t.keyCode, a = e >= 48 && e <= 57 || 45 == e || e >= 65 && e <= 90 || e >= 97 && e <= 122 || 95 == e; return 1 == a && 13 == t.which ? (SaveTags(), !1) : (0 == a ? $("#spnIsValidTag").show() : 1 == a && $("#spnIsValidTag").hide(), a) }), $("body").on("click", "#btnSubmitTag", function () { SaveTags() }), $("body").on("change", "#txtTags", function (t, e) { "" != $(this).val() && $("#spnSearchText").hide(); var a = $(this).val(), o = $("#TagTypeCode").val().split("@#$")[1]; null == o && (o = ""); var n = "[" + o + "::" + a + "]"; $("#txttag").text(n) }), $("body").on("change", "#TagTypeCode", function () { "" != $("#TagTypeCode").val() && $("#spnTag").hide(); var t = $("#TagTypeCode").val().split("@#$")[1]; null == t && (t = ""); var e = "[" + t + "::" + $("#txtTags").val() + "]"; $("#txttag").text(e), "lob" == t.toLowerCase() ? ($("#LOBTag").val(""), $(".clsLobtag").hide()) : $(".clsLobtag").show() }), $("body").on("keyup", "#txtTags", function (t, e) { "" != $(this).val() && $("#spnSearchText").hide(); var a = $(this).val(), o = $("#TagTypeCode").val().split("@#$")[1]; null == o && (o = ""); var n = "[" + o + "::" + a + "]"; $("#txttag").text(n) }), $("body").on("change", ".TagspagevalueChange", function () { var t = $(this)[0].value; $("#ManageTagPageValue").val(t); $("#ManageTagSortBy").val(), $("#ManageTagSortOrder").val(); $.ajax({ type: "POST", url: "/Portal/indexManageTags/", dataType: "HTML", contentType: "application/html", async: !1, success: function (t) { $("#divPartialManageTags").html(t), InitPortalTagsDataTable(), OnSuccessManageTag() }, error: function (t, e, a) { } }) }), $("body").on("click", "table.TagsTB tbody tr", function () { if (!$(this).hasClass("current")) { $("table.TagsTB tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-TagId"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCompanyTags", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("#divPartialAddUpdateTags").html(t); var e = $("#Tagvalue").val(); $("#TagTypeCode").val(e), "lob" == $("#TagTypeCode").val().split("@#$")[1].toLowerCase() ? ($("#LOBTag").val(""), $("#LOBTag option:selected").text(""), $(".clsLobtag").hide()) : $(".clsLobtag").show() } }) } }), $("body").on("click", "#AddTag", function () { $("#frmTag #TagTypeCode").val($("#TagTypeCode option:first").val()), $("#frmTag #LOBTag").val($("#LOBTag option:first").val()), $("#frmTag #txtTags").val(""), $("#frmTag #TagTypeCode").prop("disabled", !1), $("#frmTag #LOBTag").prop("disabled", !1), $("#frmTag #txtTags").prop("disabled", !1), $("#frmTag #txttag").html(""), $("#frmTag #TagId").val("0"), $("#frmTag #btnSubmitTag").show(), $("#frmTag #btnSubmitTag").val(add), $("table.TagsTB tr").each(function () { $(this).removeClass("current") }), $(".clsLobtag").show(), "lob" == $.UserRole.toLowerCase() && ($("#frmTag #TagTypeCode option[value='601006@#$LOB']").remove(), $("#frmTag #LOBTag").val($.UserLOBTag), $("#frmTag #LOBTag").attr("disabled", !0)) }), $("body").on("click", "#editTag", function () { $("#frmTag #LOBTag").prop("disabled", !1), $("#frmTag #btnSubmitTag").show(), $("#frmTag #btnSubmitTag").val(update), "lob" == $.UserRole.toLowerCase() && $("#frmTag #TagTypeCode option[value='601006@#$LOB']").remove() }), $("body").on("click", "table.userTB tbody tr", function () { if (!$(this).hasClass("current")) { $("table.userTB tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-UserIds"); $.ajax({ type: "GET", url: "/Portal/AddUpdateUsers", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: t }, success: function (t) { $("#divPartialAddUpdateUsers").html(t), updateTagListOnchangeOrAdd(), LoadTags(), $("#MultiSelectSecurityOptions").multiselect({ includeSelectAllOption: !0, nonSelectedText: "Select Security Option" }) } }) } }), $("body").on("click", ".deleteuser", function () { var t = $(this).attr("id"); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteUserMsg, callback: function (e) { e && $.ajax({ type: "GET", url: "/Portal/DeleteUsers?Parameters=" + t, dataType: "HTML", async: !1, success: function (t) { $("#divProgress").hide(), $("#PortalDeleteUserModalMain").html(t), DraggableModalPopup("#PortalDeleteUserModal") } }) } }) }), $("body").on("click", "#btnDeleteUser", function (t) { var e = $('input[name="__RequestVerificationToken"]').val(), a = $("#UserId").val(), o = $("#ReassignToUserId").val(); if ("" == o) return $("#spnReassignToUserId").show(), !1; $("#spnReassignToUserId").hide(); var n = ConvertEncrypte(encodeURI("UserId:" + a + "@#$ReassignToUserId:" + o)).split("+").join("***"); return $.ajax({ type: "POST", url: "/Portal/DeleteUserAfterReassign?Parameters=" + n, headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (t) { $("#PortalDeleteUserModal").modal("hide"), ShowMessageNotification("success", t.message, !1), t.result && loadUserList() }, error: function (t, e, a) { } }), t.stopImmediatePropagation(), !1 }), $("body").on("click", ".Activateuser", function () { $(".userspagevalueChange").val(), $("#UserSortBy").val(), $("#UserSortOrder").val(), $("#UserPage").val(); var t = $(this).attr("data-userid"); $.ajaxSetup({ async: !0 }), $("#divProgress").show(), $.post("/Portal/Activateuser/", { Parameters: t }, function (t) { ShowMessageNotification("success", t, !1), $.ajax({ type: "GET", url: "/Portal/IndexUsers/", dataType: "HTML", contentType: "application/html", data: {}, cache: !1, success: function (t) { $("#divUser").html(t), InitPortalUserDataTable(), OnSuccessUser(), $("#divProgress").hide() }, error: function (t, e, a) { } }) }) }), $("body").on("click", "#editUser", function () { EnableUserFields(), CheckUserTypeForUserRole(), $("#MultiSelectSecurityOptions").multiselect("enable") }), $("body").on("change", ".userspagevalueChange", function () { var t = $(this)[0].value; $("#UserSortBy").val(), $("#UserSortOrder").val(); $.ajax({ type: "POST", url: "/Portal/IndexUsers/", dataType: "HTML", contentType: "application/html", async: !1, cache: !1, success: function (e) { $("#divUser").html(e), InitPortalUserDataTable(), $(".userspagevalueChange").val(t), OnSuccessUser() }, error: function (t, e, a) { } }) }), $("body").on("click", "#AddUser", function () { $("table.userTB tr").each(function () { $(this).removeClass("current") }), EnableUserFields(), $("#UserMessgae").remove(), $("#form_ConfigData #Tags").val(""), $("#UserName").val(""), $("#EmailAddress").val(""), $("#UserStatusCode").val(""), $("#SSOUser").val(""), $("#UserTypeCode").val($("#UserTypeCode option:first").val()), $("#LOBTag").val($("#LOBTag option:first").val()), $("#btnConfigDataUser").val(add), $("#UserId").val("0"), $("#TagsValue").val("0"), $("#TagList").val(""), $(".chzn-select").trigger("chosen:updated"), $("#MultiSelectSecurityOptions option:selected").removeAttr("selected"), $("#MultiSelectSecurityOptions").multiselect("enable"), $("#MultiSelectSecurityOptions").multiselect("clearSelection"), CheckUserTypeForUserRole(), LoadTags() }), $("body").on("change", "#form_ConfigData #LOBTag", function () { updateTagListOnchangeOrAdd(), $("#Tags").val("") }), $("body").on("click", "#btnConfigDataUser", function () { var t = $("#UserName").val().trim(), e = ($("#PasswordHash").val(), $("#EmailAddress").val()), a = $("#SSOUser").val(), o = $("#UserTypeCode").val(), n = 0; if ("" == t ? ($("#spnUserName").show(), n++) : $("#spnUserName").hide(), "" == e ? ($("#spnEmail").show(), n++) : isValidEmailAddress(e) ? $("#spnEmail").hide() : ($("#spnEmail").html("Please enter proper email."), $("#spnEmail").show(), n++), "" == a ? ($("#spnSSOUser").show(), n++) : $("#spnSSOUser").hide(), "102001" == o && $("#Tags").val(""), n > 0) return !1; $("#MultiSelectSecurityOptions option").each(function () { var t = "#" + $(this).val(); $(t).val(this.selected) }) }), $("body").on("click", "#btnConfigCountryGroupRight", function (t) { var e = $("#objCountryGroup_AddSelectedCountry option:selected"); 0 == e.length && (ShowMessageNotification("success", nothingToMove, !1), t.preventDefault()), $("#objCountryGroup_RemoveSelectedCountry").append($(e).clone()), $(e).remove(), t.preventDefault() }), $("body").on("click", "#btnConfigCountryAllRight", function (t) { var e = $("#objCountryGroup_AddSelectedCountry option"); 0 == e.length && (ShowMessageNotification("success", nothingToMove, !1), t.preventDefault()), $("#objCountryGroup_RemoveSelectedCountry").append($(e).clone()), $(e).remove(), t.preventDefault() }), $("body").on("click", "#btnConfigCountryGroupLeft", function (t) { var e = $("#objCountryGroup_RemoveSelectedCountry option:selected"); 0 == e.length && (ShowMessageNotification("success", nothingToMove, !1), t.preventDefault()), $("#objCountryGroup_AddSelectedCountry").append($(e).clone()), $(e).remove(), t.preventDefault() }), $("body").on("click", "#btnConfigCountryGroupAllLeft", function (t) { var e = $("#objCountryGroup_RemoveSelectedCountry option"); 0 == e.length && (ShowMessageNotification("success", nothingToMove, !1), t.preventDefault()), $("#objCountryGroup_AddSelectedCountry").append($(e).clone()), $(e).remove(), t.preventDefault() }), $("body").on("click", "#btnConfigCountryGroup", function (t) { var e = ""; $("#objCountryGroup_RemoveSelectedCountry option").each(function () { e = e + $(this).val() + "," }), $("#objCountryGroup_ISOAlpha2Codes").val(e) }), $("body").on("click", ".deleteCountryGroup", function () { var t = $(this).attr("id"), e = $('input[name="__RequestVerificationToken"]').val(); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (a) { if (a) return $.ajax({ type: "POST", url: "/Portal/DeleteCountryGroup?Parameters=" + t, dataType: "JSON", headers: { __RequestVerificationToken: e }, contentType: "application/json", cache: !1, success: function (t) { if (ShowMessageNotification("success", t.message, !1), t.result) { LoadCountryGroup("/Portal/indexCountryGrp/") } }, error: function (t, e, a) { } }), !0 } }), !1 }), $(".CntryGrp tr").each(function () { $(this).removeClass("current") }), $("body").on("click", "table.CntryGrp tbody tr", function () { if (!$(this).hasClass("current")) { $("table.CntryGrp tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-cntrygroupid"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCountryGrp", dataType: "HTML", contentType: "application/html", data: { Parameters: t }, success: function (t) { $("#divPartialaddUpdateCountryGrp").html(t), 0 == $("table.CntryGrp tbody tr").length && $("#editCountryGroup").attr("disabled", !0) } }) } }), $("body").on("click", "#editCountryGroup", function () { $("#objCountryGroup_GroupName").prop("disabled", !1), $("#objCountryGroup_AddSelectedCountry").prop("disabled", !1), $("#objCountryGroup_RemoveSelectedCountry").prop("disabled", !1), $("#btnConfigCountryGroupRight").prop("disabled", !1), $("#btnConfigCountryAllRight").prop("disabled", !1), $("#btnConfigCountryGroupLeft").prop("disabled", !1), $("#btnConfigCountryGroupAllLeft").prop("disabled", !1), $("#btnConfigCountryGroup").show(), $("#btnConfigCountryGroup").val(update) }), $("body").on("click", "#AddCountryGroup", function () { $(".CntryGrp tr").each(function () { $(this).removeClass("current") }), $("#objCountryGroup_GroupId").val("0"), $("#objCountryGroup_GroupName").val(""), $("#btnConfigCountryGroup").val(add), $("#CountryMessage").remove(); var t = $("#objCountryGroup_RemoveSelectedCountry option"); $("#objCountryGroup_AddSelectedCountry").append($(t).clone()), $(t).remove(), $("#objCountryGroup_GroupName").prop("disabled", !1), $("#objCountryGroup_AddSelectedCountry").prop("disabled", !1), $("#objCountryGroup_RemoveSelectedCountry").prop("disabled", !1), $("#btnConfigCountryGroupRight").prop("disabled", !1), $("#btnConfigCountryAllRight").prop("disabled", !1), $("#btnConfigCountryGroupLeft").prop("disabled", !1), $("#btnConfigCountryGroupAllLeft").prop("disabled", !1), $("#btnConfigCountryGroup").show(), $("#objCountryGroup_tmpName").val("") }), $("body").on("change", ".CountrypagevalueChange", function () { LoadCountryGroup("/Portal/indexCountryGrp/") }), $("body").on("click", ".btnConfigCountryGroup", function () { var t = $("select#objCountryGroup_RemoveSelectedCountry option").length, e = 0; if ("" == $("#objCountryGroup_GroupName").val().trim() ? ($("#spnGroupName").show(), e++) : $("#spnGroupName").hide(), 0 == t ? ($("#spnOptionValue").show(), e++) : $("#spnOptionValue").hide(), e > 0) return !1 }), $("body").on("click", "#btnExportToExcel", function () { $('<form action="/Portal/ExportToExcel"></form>').appendTo("body").submit() }), $("body").on("click", "#btnImportData", function () { $(this).attr("id"); $.ajax({ type: "GET", url: "/Portal/CountryImportData", dataType: "HTML", success: function (t) { $("#divProgress").hide(), $("#PortalCountryGroupImportModalMain").html(t), DraggableModalPopup("#PortalCountryGroupImportModal") } }) }), $("body").on("click", ".deleteCDSEntity", function () { var t = $(this).attr("id"), e = $('input[name="__RequestVerificationToken"]').val(), a = $("#CDSEntityPageValue").val(), o = $("#CDSEntitySortBy").val(), n = $("#CDSEntitySortOrder").val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (r) { r && $.ajax({ type: "POST", url: "/Portal/DeleteCDSEntity?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***"), dataType: "JSON", headers: { __RequestVerificationToken: e }, contentType: "application/json", success: function (t) { ShowMessageNotification("success", t.message, !1), t.result && $.ajax({ type: "GET", cache: !1, url: "/Portal/indexEntity?sortby=" + o + "&sortorder=" + n + "&pagevalue=" + a, dataType: "HTML", contentType: "application/html", async: !1, success: function (t) { $("#divPartialCDSEntity").html(t) } }) }, error: function (t, e, a) { } }) } }) }), $("body").on("change", ".CDSEntityPageValueChange", function () { var t = "/Portal/indexEntity/?pagevalue=" + $(this)[0].value + "&sortby=" + $("#CDSEntitySortBy").val() + "&sortorder=" + $("#CDSEntitySortOrder").val(); $.ajax({ type: "POST", url: t, dataType: "HTML", contentType: "application/html", async: !1, cache: !1, success: function (t) { $("#divPartialCDSEntity").html(t) }, error: function (t, e, a) { } }) }), $("body").on("click", ".deleteCDSEnvironment", function () { var t = $(this).attr("id"), e = $("#CDSEnvironmentPageValue").val(), a = $("#CDSEnvironmentSortBy").val(), o = $("#CDSEnvironmentSortOrder").val(), n = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (r) { r && $.ajax({ type: "POST", url: "/Portal/DeleteCDSEnvironment?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***"), dataType: "JSON", headers: { __RequestVerificationToken: n }, contentType: "application/json", success: function (t) { ShowMessageNotification("success", t, !1), "Data deleted successfully" == t && $.ajax({ type: "GET", cache: !1, url: "/Portal/indexEnvironment?sortby=" + a + "&sortorder=" + o + "&pagevalue=" + e, dataType: "HTML", contentType: "application/html", async: !1, success: function (t) { $("#divPartialCDSEnvironment").html(t), onSuccessEnvironment() } }) }, error: function (t, e, a) { } }) } }) }), $("body").on("change", ".CDSEnvironmentPageValueChange", function () { var t = "/Portal/indexEnvironment/?pagevalue=" + $(this)[0].value + "&sortby=" + $("#CDSEnvironmentSortBy").val() + "&sortorder=" + $("#CDSEnvironmentSortOrder").val(); $.ajax({ type: "POST", url: t, dataType: "HTML", contentType: "application/html", async: !1, cache: !1, success: function (t) { $("#divPartialCDSEnvironment").html(t), onSuccessEnvironment() }, error: function (t, e, a) { } }) }), $("body").on("click", "#AddEnvironment", function () { $("table.EnvironmentTB tr").each(function () { $(this).removeClass("current") }), $("#txtTenantId").val(""), $("#txtEnvironment").val(""), $("#txtOrganizationUrl").val(""), $("#txtTenantId").attr("disabled", !1), $("#txtEnvironment").attr("disabled", !1), $("#txtOrganizationUrl").attr("readonly", !1), $("#btnEnvironmentSubmit").show(), $("#btnEnvironmentSubmit").val("Save") }), $("body").on("click", "#EditEnvironment", function () { $("#txtTenantId").attr("disabled", !1), $("#txtEnvironment").attr("disabled", !1), $("#btnEnvironmentSubmit").show() }), $("body").on("click", "table.EnvironmentTB tbody tr", function () { if (!$(this).hasClass("current")) { $("table.EnvironmentTB tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-OrganizationUrl"); $.ajax({ type: "GET", url: "/Portal/AddEnvironMent", dataType: "HTML", contentType: "application/html", cache: !1, data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("#divPartialAddUpdateCDSEnvironment").html(t) } }) } }), $("body").on("click", "#IdFeatureTab", function () { $(this).parent("li").hasClass("active") || $.pjax({ url: "/Portal/Features", container: "#divPartialFeature", timeout: 5e4 }).done(function () { }) }), $("body").on("click", "#IdAboutUsTab", function () { $(this).parent("li").hasClass("active") || $.pjax({ url: "/Portal/AboutUs", container: "#divPartialAboutuUs", timeout: 5e4 }).done(function () { }) }), $("body").on("click", "#IdCommonTab", function () { if (!$(this).parent("li").hasClass("active")) { $("#CommonRightTab li").each(function () { $(this).removeClass("active") }), $("#CommonRightTabcontent").children("div").each(function () { $(this).removeClass("active") }), $("#CommonRightTab li:first").addClass("active"), $("#CommonRightTabcontent").children("div:first").addClass("active"); LoadCountryGroup("/Portal/indexCountryGrp") } }), $("body").on("click", "#IdUsersTab", function () { $(this).parent("li").hasClass("active") || loadUserList() }), $("body").on("click", "#IdRTabDynamicCRM", function () { $(this).parent("li").hasClass("active") || $.ajax({ type: "GET", url: "/Portal/indexEnvironment", dataType: "HTML", contentType: "application/html", cache: !1, success: function (t) { $("#divPartialCDSEnvironment").html(t), onSuccessEnvironment() } }) }), $("body").on("click", "#IdRTabExportPageSettings", function () { $(this).parent("li").hasClass("active") || $.pjax({ url: "/Portal/ExportPageSettings", container: "#divPartialExportPageSettings", timeout: 5e4 }).done(function () { "lob" == $.UserRole.toLowerCase() && $(".isDisabled").attr("disabled", !0) }) }), $("body").on("click", "#IdRTabTags", function () { $(this).parent("li").hasClass("active") || $.pjax({ url: "/Portal/Tags", container: "#divPartialManageTags", timeout: 5e4 }).done(function () { $("table.TagsTB tbody tr:first").addClass("current"); var t = $("table.TagsTB tbody tr:first").attr("data-TagId"); $.ajax({ type: "GET", url: "/Portal/AddUpdateCompanyTags", dataType: "HTML", cache: !1, contentType: "application/html", data: { Parameters: ConvertEncrypte(encodeURI(t)).split("+").join("***") }, success: function (t) { $("#divPartialAddUpdateTags").html(t), InitPortalTagsDataTable(); var e = $("#Tagvalue").val(); $("#TagTypeCode").val(e), 0 == $("table.TagsTB tbody tr").length && $("#editTag").attr("disabled", !0) } }) }) }), $("body").on("click", "#IdRTabCountryGroup", function () { if (!$(this).parent("li").hasClass("active")) { LoadCountryGroup("/Portal/indexCountryGrp") } }), $("body").on("click", "#IdRTabUserComment", function () { if (!$(this).parent("li").hasClass("active")) { LoadUserComments("/Portal/IndexUserComments") } }), $("body").on("click", "#IdRTabCompanyAttribute", function () { $(this).parent("li").hasClass("active") || (url = "/Portal/indexCompanyAttribute", LoadCompanyAttribute(url)) }), $("body").on("click", "#getAPIkey", function () { $(this).attr("data-licenseCommandLine").toLowerCase(); $.ajax({ type: "GET", url: "/Portal/APICredential?Parameters=", dataType: "HTML", success: function (t) { $("#PortalAboutUsModalMain").html(t), DraggableModalPopup("#PortalAboutUsModal") } }) }), $("body").on("change", "#form_ConfigData #UserTypeCode", function () { CheckUserTypeForUserRole() }), $("body").on("click", "#form_ExportPageSettings #btnSubmitExportPageSettings", function () { var t = $("#form_ExportPageSettings #Settings_37__SettingValue").val().trim(), e = $("#form_ExportPageSettings #Settings_38__SettingValue").val().trim(), a = $("#form_ExportPageSettings #Settings_39__SettingValue").val().trim(), o = $("#form_ExportPageSettings #Settings_40__SettingValue").val().trim(); parseInt("000000"); var n = 0; if ("" == t || 0 == parseInt(t) ? ($("#spnPageSizeMatchOutput").show(), n++) : $("#spnPageSizeMatchOutput").hide(), "" == e || 0 == parseInt(e) ? ($("#spnPageSizeEnrichmentOutput").show(), n++) : $("#spnPageSizeEnrichmentOutput").hide(), "" == a || 0 == parseInt(a) ? ($("#spnPageSizeMonitoringOutput").show(), n++) : $("#spnPageSizeMonitoringOutput").hide(), "" == o || 0 == parseInt(o) ? ($("#spnPageSizeActiveDataQueueOutput").show(), n++) : $("#spnPageSizeActiveDataQueueOutput").hide(), n > 0) return !1; var r = $("#form_ExportPageSettings").serialize(); $.post("/Portal/IndexExportPageSettings/", r).done(function (t) { ShowMessageNotification("success", t, !1) }) }), $(".OnlyDigit").keypress(function (t) { var e = 0 == t.keyCode ? t.charCode : t.keyCode; return e >= 48 && e <= 57 || 8 == e }), $("body").on("blur", ".OnlyDigit", function () { var t = $(this).val(); "" != t && ($.isNumeric(t) || ($(this).val(""), ShowMessageNotification("success", allowOnlyNumbers, !1))) }), $("body").on("click", "#IdCommandLine", function () { $(this).parent("li").hasClass("active") || ($("#CommandRightTab li").removeClass("active"), $("#CommandRightTabcontent").children("div").each(function () { $(this).removeClass("active") }), $("#CommandRightTab li:first").addClass("active"), $("#CommandRightTabcontent").children("div:first").addClass("active"), $.pjax({ url: "/Portal/UploadConfiguration", container: "#divPartialCommandMapping", timeout: 5e4 }).done(function () { InitPortalUploadConfigurationDataTable(), 0 == $("table#tbCmndMapping tbody tr").length ? $("#EditCommandMapping").attr("disabled", !0) : $("table#tbCmndMapping tbody tr:first").addClass("current") })) }), $("body").on("blur", "#InactiveDays", function () { var t = $("#InactiveDays").val(); return t < 30 || t > 365 ? ($("#InactiveDays").val(""), !1) : ($(".InactiveDaysError").attr("hidden", "hidden"), !0) }), $("body").on("click", "#IdRTabDPMFTPConfiguration", function () { if (!$(this).parent("li").hasClass("active")) { LoadDPMFTPConfiguration("/Portal/IndexDPMFTPConfiguration") } }), $("body").on("click", "#AddFTPConfiguration", function () { $("#Url").val(""), $("#Host").val(""), $("#Port").val(""), $("#UserName").val(""), $("#Password").val(""), $("#Id").val(""), $("#InsertDPMFTPConfiguration").val(create), EnableDPMFTPConfigurationFields(), $("table.TbFTPConfiguration tr").each(function () { $(this).removeClass("current") }) }), $("body").on("click", "#EditFTPConfiguration", function () { EnableDPMFTPConfigurationFields(), $("#Password").val(""), $("#InsertDPMFTPConfiguration").val(update) }), $("body").on("click", ".deleteFTPConfiguration", function () { var t = $(this).attr("id"), e = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteRecordMsg, callback: function (a) { a && $.ajax({ type: "POST", url: "/Portal/DeleteDPMFTPConfiguration?Parameters=" + t, dataType: "JSON", headers: { __RequestVerificationToken: e }, contentType: "application/json", success: function (t) { ShowMessageNotification("success", t, !1); LoadDPMFTPConfiguration("/Portal/IndexDPMFTPConfiguration") }, error: function (t, e, a) { } }) } }) }), $("body").on("click", "table.TbFTPConfiguration tbody tr", function () { if (!$(this).hasClass("current")) { $("table.TbFTPConfiguration tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var t = $(this).attr("data-FTPConfigurationId"); $.ajax({ type: "GET", url: "/Portal/AddDPMFTPConfiguration", dataType: "HTML", contentType: "application/html", data: { Parameters: t }, success: function (t) { $("#divPartialAddUpdateFTPConfiguration").html(t), 0 == $("table.TbFTPConfiguration tbody tr").length && $("#EditFTPConfiguration").attr("disabled", !0) } }) } }), $("body").on("change", "#EnablePurgeArchivet", function () { $("input#EnablePurgeArchivet").is(":checked") ? $("#ArchivePeriodDays").attr("disabled", "disabled") : $("#ArchivePeriodDays").attr("disabled", !1) }), $("body").on("click", "#IdRTabGoogleAPI", function () { if (!$(this).parent("li").hasClass("active")) { LoadGoogleAPI("/Portal/AddGoogleAPI") } }), $("body").on("click", "#InsertGoogleAPI", function () { var t = $("#APIKey").val().trim(); return null != t && "" != t ? ($("#spnAPIKey").hide(), !0) : ($("#spnAPIKey").show(), !1) });
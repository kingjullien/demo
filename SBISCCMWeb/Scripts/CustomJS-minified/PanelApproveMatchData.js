function clearCompanyData() { $("#txtScrRecId").val(""), $("#txtCompany").val(""), $("#txtCity").val(""), $("select#State").prop("selectedIndex", 0), $("select#Country").prop("selectedIndex", 0) } function clearAllOtherData() { $("#txtScrRecId").val(""), $("#txtCompany").val(""), $("#txtCity").val(""), $("select#State").prop("selectedIndex", 0), $("select#Country").prop("selectedIndex", 0), $("select#CompanyMatch").prop("selectedIndex", 0), $("select#CityName").prop("selectedIndex", 0), $("select#StreetNo").prop("selectedIndex", 0), $("select#StateName").prop("selectedIndex", 0), $("select#StreetName").prop("selectedIndex", 0), $("select#PostalCode").prop("selectedIndex", 0), $("select#Telephone").prop("selectedIndex", 0), $("#txtMatchGrade").val(""), $(".noUi-origin").css("left", "0"), $("#divMinConfidentCode").html("0.00"), $("#minConfidentCode").val("0.00"), 1 == $("#SelectTopMatch").prop("checked") && $("#SelectTopMatch").click() } function CallAcceptLCMMatches(e, t) { var a = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/AcceptLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function MatchCallAcceptLCMMatches(e, t, a) { a = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/AcceptLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function CallRejectLCMMatches(e, t) { var a = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/RejectLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function MatchCallRejectLCMMatches(e, t, a) { a = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/RejectLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: a }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function OpenStewardshipNote(e, t, a) { return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/ApproveMatchData/OpenSearchData?InputId=" + e + "&count=" + t + "&Notes=" + a }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupStewardShipNotes" }), !1 } var currentclass; function pagination() { if (clearAllOtherData(), $("body").removeClass("nooverflow"), void 0 === $(".noContain").html()) { var e = "#" + $("#example_wrapper table.inlinetable").attr("id"), t = "#" + $("#example_wrapper_Detail table.MatchedItem").attr("id"); $(e).css("cssText", "display: block !important;"), $(t).css("cssText", "display: block !important;"); for (var a = $(t)[0].classList, n = 0; n < a.length; n++)if (a[n].indexOf("Detail-") > -1) { var s = "." + a[n]; $(s).length > 1 ? $(".widget-toolbar").css("display", "block") : $(".widget-toolbar").css("display", "none") } } else $(".MatchesItem").hide(), $(".MatchDetails").hide(); setup_dashboard_widgets_desktop() } function LoadChildandDetail() { if ($("#divProgress").show(), $("body").removeClass("nooverflow"), void 0 === $(".noContain").html()) { var e = "#" + $("#example_wrapper table.inlinetable").attr("id"), t = "#" + $("#example_wrapper_Detail table.MatchedItem").attr("id"); $(e).css("cssText", "display: block !important;"), $(t).css("cssText", "display: block !important;"); for (var a = $(t)[0].classList, n = 0; n < a.length; n++)if (a[n].indexOf("Detail-") > -1) { var s = "." + a[n]; $(s).length > 1 ? $(".widget-toolbar").css("display", "block") : $(".widget-toolbar").css("display", "none") } } else $(".MatchesItem").hide(), $(".MatchDetails").hide(); $("#divProgress").hide(), setup_dashboard_widgets_desktop() } function backToparent() { $.magnificPopup.close(), $.ajax({ type: "POST", url: "/ApproveMatchData/GetFilteredCompanyList/", data: "", dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, a) { } }) } function backToparent2() { $.magnificPopup.close() } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide(), triggerBubble() }), $.ajaxSetup({ cache: !1 }), $(document).ready(function () { $("#divProgress").show(); var e = document.getElementById("slider-range"); noUiSlider.create(e, { start: [0], range: { min: [0], max: [10] }, pips: { mode: "steps", density: 10 }, step: 1 }), $("#slider-range").addClass("form-control"), e.noUiSlider.on("change", function (e, t) { document.getElementById("divMinConfidentCode").innerHTML = e[t], $("#minConfidentCode").val(e[t]), $("#form_StewardshipPortal").submit() }); var t = "#" + $("#example_wrapper table.inlinetable").attr("id"), a = "#" + $("#example_wrapper_Detail table.MatchedItem").attr("id"); if ($(t).css("cssText", "display: block !important;"), $(a).css("cssText", "display: block !important;"), "#undefined" != a) { for (var n = $(a)[0].classList, s = 0; s < n.length; s++)if (n[s].indexOf("Detail-") > -1) { var i = "." + n[s]; $(i).length > 1 ? $(".widget-toolbar").css("display", "block") : $(".widget-toolbar").css("display", "none") } } else $(".widget-toolbar").css("display", "none"); $("#divProgress").hide() }), $("#btnClearCompanyData").click(function () { clearCompanyData() }), $("#btnClearMatchFilter").click(function () { clearAllOtherData() }), $("body").on("click", "#btnAcceptSelectedMatches", function () { $("body").removeClass("nooverflow") }), $("body").on("click", "#btnRejectSelectedMatches", function () { $("body").removeClass("nooverflow"), clearAllOtherData() }), $("#btnClose").click(function () { clearAllOtherData() }), $("body").on("show.bs.collapse", ".collapse", function () { $(".panel-collapse.in").collapse("hide"), $(".trMatchedItemView").each(function () { $(this).hide() }), $(this).parents("tr").show() }), $("body").on("hide.bs.collapse", ".collapse", function () { $(this).parents("tr").hide() }), $("body").on("click", "#trig", function () { $("#colMain").toggleClass("col-md-9 col-md-12"), $("#colPush").toggleClass("col-md-3 col-md-0") }), $("body").on("click", ".clsViewMatchedItemDetails", function () { var e = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/ApproveMatchData/cShowMatchedItesDetailsView/", data: { id: e, childButtonId: this.id }, success: function (e) { $.magnificPopup.open({ items: { src: "/ApproveMatchData/GetLayoutPopUp" }, type: "iframe", closeOnBgClick: !1, mainClass: "popInitiateReturn", callbacks: { open: function () { setTimeout(function () { $(".mfp-iframe").contents().find("html body #contentPopup").length > 0 && $(".mfp-iframe").contents().find("html body #contentPopup").html(e) }, 1500) } } }) }, error: function (e, t, a) { } }), !1 }), $("body").on("click", ".btnSelected", function () { var e = $(this).attr("id").replace("InnerMatch", ""), t = $(this).attr("data-val"); parent.$("#" + e + "RejectAll").removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), parent.$("#" + e + "RejectAll").removeClass("parentbtnIdel").addClass("parentbtnUnselected"), parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), $(this).removeClass("btnSelected").addClass("btnUnselected"), CallRejectLCMMatches(e, t) }), $("body").on("click", ".btnUnselected", function () { var e = $(this).attr("id").replace("InnerMatch", ""), t = $(this).attr("data-val"); parent.$("#" + e + "RejectAll").removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), parent.$("#" + e + "RejectAll").removeClass("parentbtnIdel").addClass("parentbtnUnselected"), parent.$("#" + e + "NotSelected").removeClass("NotSelected").addClass("SelectMathced"), parent.$("." + e).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("btnUnselected").addClass("btnSelected"), CallAcceptLCMMatches(e, t), "False" == $("#Approve").val() && OpenStewardshipNote(e, t, "") }), $("body").on("click", ".parentbtnMatchRejected", function () { $(this).removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), CallAcceptLCMMatches($(this).attr("id").replace("RejectAll", ""), "unrejectall") }), $("body").on("click", ".parentbtnIdel", function () { var e = $(this).attr("id").replace("RejectAll", ""); $(this).attr("data-val"); parent.$("." + e).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("parentbtnIdel").addClass("parentbtnMatchRejected"), CallAcceptLCMMatches(e, "rejectall"), "False" == $("#Approve").val() && OpenStewardshipNote(e, "-1", "") }), $("body").on("click", ".parentbtnUnselected", function () { var e = $(this).attr("id").replace("RejectAll", ""); parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), parent.$("." + e).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("parentbtnUnselected").addClass("parentbtnMatchRejected"), CallAcceptLCMMatches(e, "rejectall"), "False" == $("#Approve").val() && OpenStewardshipNote(e, "-1", "") }), $("body").on("click", ".userFilter", function () { return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/UserSessionFilter/popupUserFilter/" }, callbacks: { close: function () { location.reload() } }, closeOnBgClick: !1, mainClass: "popupUserSessionFilter" }), !1 }), $("body").on("click", ".DeleteFilter", function () { var e = $('input[name="__RequestVerificationToken"]').val(); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> Confirm", message: "Are you sure you want to delete session filter?", callback: function (t) { t && $.ajax({ type: "POST", url: "/ApproveMatchData/DeleteSessionFilter/", data: "", headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { "success" == e && location.reload() }, error: function (e, t, a) { } }) } }), !1 }), $("body").on("click", ".panelviewRow", function () { var e = $(this).attr("data-inputId"); $(".current").each(function () { $(this).removeClass("current") }), $(this).addClass("current"), $(".inlinetable").attr("style", "display: none !important"); var t = "#tr" + e; $(t).css("cssText", "display: block !important;"), $(t).children("tbody").children("tr:first").addClass("current"), $(t).children("tbody").children("tr:first").next().addClass("current"); var a = $(t + " tr.OpenDetails").attr("data-val"); $(".MatchedItem").each(function () { $(this).attr("style", "display: none !important") }); var n = "#Detail-" + a.replace('"', "").replace('"', ""); $(n).css("display", "block") }), $("body").on("click", ".detailOpen", function () { var e = $(this).attr("data-val"); $(".MatchedItem").attr("style", "display: none !important"); var t = ".Detail-" + e.replace('"', "").replace('"', ""); t = t.replace(" ", ""); var a = "#" + $(t).attr("id"); $(a).css("cssText", "display: block !important;"), $(t).length > 1 ? $(".widget-toolbar").css("display", "block") : $(".widget-toolbar").css("display", "none"), $(".detail-Prev").parent().addClass("disabled"), $(".detail-Next").parent().removeClass("disabled") }), $("body").on("click", ".OpenDetails", function () { $(".OpenDetails").removeClass("current"), $(this).addClass("current"); for (var e = $(this)[0].classList, t = 0, a = 0; a < e.length; a++)"border-top-none" == e[a] && ($(this).prev().addClass("current"), t++); 0 == t && $(this).next().addClass("current"); var n = $(this).attr("data-val"); $(".MatchedItem").attr("style", "display: none !important"); var s = "#Detail-" + n.replace('"', "").replace('"', ""); $(s).css("cssText", "display: block !important;"), 0 == $(this).next().next().length ? $(".detail-Next").parent().addClass("disabled") : $(".detail-Next").parent().removeClass("disabled"), 0 == $(this).prev().prev().length ? $(".detail-Prev").parent().addClass("disabled") : $(".detail-Prev").parent().removeClass("disabled") }), $("body").on("click", ".detail-Prev", function () { if (!$(this).parent().hasClass("disabled")) { $(".MatchedItem").each(function () { if ("block" == $(this).css("display")) { var e = $(this).attr("data-InputId"); return $(this).css("display", "none"), $(this).prev().attr("data-InputId") == e && $(this).prev().css("display", "block"), $(this).next().attr("data-InputId") != e && $(".detail-Next").parent().removeClass("disabled"), $(this).prev().prev().attr("data-InputId") != e && $(".detail-Prev").parent().addClass("disabled"), !1 } }); for (var e = $(".OpenDetails.current"), t = 0; t < e.length; t++)$(e[t]).prev().prev().addClass("current"), $(e[t]).removeClass("current") } }), $("body").on("click", ".detail-Next", function () { if (!$(this).parent().hasClass("disabled")) { $(".MatchedItem").each(function () { if ("block" == $(this).css("display")) { var e = $(this).attr("data-InputId"); return $(this).css("display", "none"), $(this).next().attr("data-InputId") == e && $(this).next().css("display", "block"), $(this).prev().attr("data-InputId") != e && $(".detail-Prev").parent().removeClass("disabled"), $(this).next().next().attr("data-InputId") != e && $(".detail-Next").parent().addClass("disabled"), !1 } }); for (var e = $(".OpenDetails.current"), t = 0; t < e.length; t++)$(e[t]).next().next().addClass("current"), $(e[t]).removeClass("current") } }), $("body").on("change", ".pagevalueChange", function () { var e = $(this)[0].value; $("body").removeClass("nooverflow"); var t = "/ApproveMatchData/Index/?pagevalue=" + e; $("#divStewardshipPortal").load(t, function () { if (void 0 === $(".noContain").html()) { var e = "#" + $("#example_wrapper table.inlinetable").attr("id"), t = "#" + $("#example_wrapper_Detail table.MatchedItem").attr("id"); $(e).css("cssText", "display: block !important;"), $(t).css("cssText", "display: block !important;"); for (var a = $(t)[0].classList, n = 0; n < a.length; n++)if (a[n].indexOf("Detail-") > -1) { var s = "." + a[n]; $(s).length > 1 ? $(".widget-toolbar").css("display", "block") : $(".widget-toolbar").css("display", "none") } } else $(".MatchesItem").hide(), $(".MatchDetails").hide(); setup_dashboard_widgets_desktop(), document.getElementById("slider-range").noUiSlider.set(0) }) }), $("body").on("click", ".panelview", function () { var e = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/SetUserLayoutPreference/", data: JSON.stringify({ userLayout: "PANEL" }), headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { $(".set-panel").hide() }, error: function (e, t, a) { } }) }), $(document).ready(function () { $(window).bind("beforeunload", function (e) { }) }), $("body").on("click", ".StewardNote", function () { var e = $(this).attr("data-id"), t = $(this).attr("data-count"), a = $(this).attr("data-Note"); "True" == $("#IsApprovalScreen").val() && OpenStewardshipNote(e, t, a) }), $("body").on("click", ".dataTables_paginate .pagination", function (e) { var t = $(this).find("a").html(), a = $("#sortby").val(), n = $("#sortorder").val(), s = $("#pagevalue").val(), i = 0; return ($(".parentbtnUnselected").length > 0 || $(".parentbtnMatchRejected").length > 0 || $(".SelectMathced").length > 0) && (i = 1), !(i > 0) || (bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> Confirm", message: "You have unsaved changes. Are you sure you want to change page and discard the changes?", callback: function (e) { e && (document.getElementById("slider-range").noUiSlider.set(0), $.ajax({ type: "GET", url: "/ApproveMatchData/Index/", data: { page: t, sortby: a, sortorder: n, pagevalue: s }, dataType: "HTML", contentType: "application/html", success: function (e) { $("#divStewardshipPortal").html(e), LoadChildandDetail() }, error: function (e, t, a) { } })) } }), !1) }), $("body").on("click", ".trStewardshipPortal_td2", function () { var e = $(this).attr("id"); return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/ApproveMatchData/popupCompanyAttribute?Parameters=" + e }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupCompanyAttribute" }), !1 }), $(function () { var e = $("#ActivateFeature").val(), t = $('input[name="__RequestVerificationToken"]').val(), a = $("#LicenseEnableInvestigations").val(); null != a && "False" != a || (a = !0), "True" == a && (a = !1), $.contextMenu({ selector: ".context-menu-one", callback: function (e, t) { }, events: { show: function (t) { setTimeout(function () { t.$menu.find(".context-menu-disabled > span").attr("title", e) }, 50) } }, items: { AddCompany: { name: "Add Match as Company", callback: function () { var e = $(this).attr("data-value"); return $.ajax({ type: "POST", url: "/BadInputData/FillMatchData/", data: JSON.stringify({ matchRecord: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { "success" == e && $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/BadInputData/AddCompany" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupAddressCompany" }) }, error: function (e, t, a) { } }), "context-menu-icon context-menu-icon-quit" } }, AddInvestigation: { name: "Investigate Record", disabled: a, callback: function () { var e = $(this).attr("data-value"); return $.ajax({ type: "POST", url: "/InvestigateView/SetValue/", data: JSON.stringify({ IsCompany: !1, data: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { "success" == e && $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/InvestigateView/InvestigateRecords" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupInvestigateRecord" }) }, error: function (e, t, a) { } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }) }), $(function () { var e = $("#ActivateFeature").val(), t = $('input[name="__RequestVerificationToken"]').val(), a = $("#LicenseEnableInvestigations").val(); null != a && "False" != a || (a = !0), "True" == a && (a = !1), $.contextMenu({ selector: ".context-menu-one-match", callback: function (e, t) { }, events: { show: function (t) { setTimeout(function () { t.$menu.find(".context-menu-disabled > span").attr("title", e) }, 50) } }, items: { AddInvestigation: { name: "Investigate Record", disabled: a, callback: function () { var e = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/InvestigateView/SetValue/", data: JSON.stringify({ IsCompany: !0, data: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { "success" == e && $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/InvestigateView/InvestigateRecords" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupInvestigateRecord" }) }, error: function (e, t, a) { } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one-match").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }) }), $("body").on("click", ".GoogleMapPopUp", function () { var e = $(this).attr("data-val"); return $.magnificPopup.open({ items: { src: "/StewardshipPortal/GoogleMapPopUp?id=" + e }, type: "iframe", closeOnBgClick: !1, mainClass: "popInvestigation", callbacks: {} }), !1 });
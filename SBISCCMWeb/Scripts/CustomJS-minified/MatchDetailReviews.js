function backToparent() { $.magnificPopup.close(), $.ajax({ type: "POST", url: "/StewardshipPortal/GetFilteredCompanyList/", data: "", dataType: "json", contentType: "application/json", success: function (t) { }, error: function (t, a, e) { } }) } function nextClick(t) { $("#divProgress").show(); var a = "", e = "", n = $("#IsSearchData").val(); if ("disabled" != $(t).parent().attr("class")) { var i = $(t).attr("data-Id"), r = $(t).data("val"), d = $(t).attr("data-Next"), s = $(".dnbDunsNumber").attr("data-val"); null == d && (d = ""), null != s && "" != s || (s = $(".dnbDunsNumber").attr("data-val")); var l = $(".Seq").attr("data-val"); "StewardshipPortal" == n ? (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:AdditionalFields@#$IsPartialView:true", a = "/StewardshipPortal/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")) : "SearchData" == n && (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:null@#$IsPartialView:true", a = "/SearchData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")), "BadInputData" == n && (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:AdditionalFields@#$IsPartialView:true", a = "/BadInputData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")), "ApproveMatch" == n && (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:AdditionalFields@#$IsPartialView:true", a = "/ApproveMatchData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")), $.ajax({ type: "GET", url: a, dataType: "HTML", async: !1, cache: !1, contentType: "application/html", data: { pagevalue: $("#pagevalue").val() }, success: function (t) { $("#MatchedcontentPopup").html(t) } }), parent.matchItemNextClick($(t).data("val"), $(t).attr("data-Id")) } $("#divProgress").hide() } function prevClick(t) { $("#divProgress").show(); var a = "", e = "", n = $("#IsSearchData").val(); if ("disabled" != $(t).parent().attr("class")) { var i = $(t).attr("data-Id"), r = $(t).data("val"), d = $(".dnbDunsNumber").attr("data-val"), s = $(t).attr("data-prev"); null != d && "" != d || (d = $(".dnbDunsNumber").attr("data-val")), null == s && (s = ""); var l = $(".Seq").attr("data-val"); "StewardshipPortal" == n ? (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:AdditionalFields@#$IsPartialView:true", a = "/StewardshipPortal/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")) : "SearchData" == n ? (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:null@#$IsPartialView:true", a = "/SearchData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")) : "BadInputData" == n ? (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:AdditionalFields@#$IsPartialView:true", a = "/BadInputData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")) : "ApproveMatch" == n && (e = "id:" + i + "@#$childButtonId:" + r + "@#$dataNext:" + d + "@#$dataPrev:" + s + "@#$count:" + l + "@#$type:AdditionalFields@#$IsPartialView:true", a = "/ApproveMatchData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***")), $.ajax({ type: "GET", url: a, dataType: "HTML", async: !1, cache: !1, contentType: "application/html", data: { pagevalue: $("#pagevalue").val() }, success: function (t) { $("#MatchedcontentPopup").html(t) } }), parent.matchItemPrevClick($(t).data("val"), $(t).attr("data-Id")) } $("#divProgress").hide() } function ConvertEncrypte(t) { var a = ""; return "" != t && null != t && $.ajax({ type: "POST", url: "/Home/GetEncryptedString", data: JSON.stringify({ strValue: t }), dataType: "json", contentType: "application/json", async: !1, success: function (t) { a = t }, error: function (t, a, e) { } }), a } function backToparent2() { $.magnificPopup.close() } $(function () { $(".mfp-iframe").contents().find("html body #contentPopup .btnUnselectedMatchDetailReview,html body #contentPopup .btnSelectedMatchDetailReview").each(function () { var t = $("div#" + this.id.replace(" ", "")).attr("class"); $(this).removeAttr("class").addClass(t), t.indexOf("btnSelectedMatchDetailReview") > -1 && $(this).parent().find(".displaylbl").text("Selected") }), $("body").on("click", ".btnUnselectedMatchDetailReview", function () { var t = $(".CustomAttribute").attr("data-val"), a = $(".dnbDunsNumber").attr("data-val") + "DUNS" + t, e = parseInt($(".Seq").attr("data-val")); parent.$("#" + t + "RejectAll").removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), parent.$("#" + t + "RejectAll").removeClass("parentbtnIdel").addClass("parentbtnUnselected"), parent.$("#" + t + "NotSelected").removeClass("NotSelected").addClass("SelectMathced"), parent.$("." + t).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), parent.$("#" + a).find("#" + t + "InnerMatch").removeClass("btnUnselected").addClass("btnSelected"), $(this).removeClass("btnUnselectedMatchDetailReview").addClass("btnSelectedMatchDetailReview"); var n = $('input[name="__RequestVerificationToken"]').val(); if (parent.MatchCallAcceptLCMMatches(t, e, n), $(this).parent().find(".displaylbl").text("Selected"), "False" == $("#Approve").val()) { var i = "/StewardshipPortal/OpenSearchData?InputId=" + t + "&count=" + e + "&Notes="; return $.magnificPopup.open({ closeBtnInside: !0, type: "iframe", items: { src: i }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popNotes" }), !1 } return !1 }) }), $("body").on("click", ".btnSelectedMatchDetailReview", function () { var t = $(".CustomAttribute").attr("data-val"), a = parseInt($(".Seq").attr("data-val")); parent.$("." + t).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("btnSelectedMatchDetailReview").addClass("btnUnselectedMatchDetailReview"), parent.$("#" + t + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), $(this).parent().find(".displaylbl").text("Select"); var e = $('input[name="__RequestVerificationToken"]').val(); parent.MatchCallRejectLCMMatches(t, a, e) }), $("body").on("click", ".CustomAttribute", function () { var t = $(this).attr("id"); return $.ajax({ type: "GET", url: "/StewardshipPortal/popupCompanyAttribute?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***"), dataType: "HTML", async: !1, success: function (t) { $("#CustomAttributeModalMain").html(t), DraggableModalPopup("#CustomAttributeModal") } }), !1 }), $("body").on("click", ".btnAddCompany", function () { var t = $('input[name="__RequestVerificationToken"]').val(), a = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/BadInputData/FillMatchData/", data: JSON.stringify({ matchRecord: a }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", success: function (t) { $.ajax({ type: "GET", url: "/BadInputData/AddCompany", dataType: "HTML", async: !1, success: function (t) { $("#divProgress").hide(), $("#CleanSearchDataAddCompanyModalMain").html(t), DraggableModalPopup("#SearchDataAddCompanyModal") } }) }, error: function (t, a, e) { } }), !1 }), $("body").on("click", "#MatchDetailModal #lnkCollapse", function () { var t = !1; $("#MatchDetailModal #lnkCollapse i").hasClass("fa-minus") || (t = !0), $.ajax({ type: "GET", url: "/StewardshipPortal/SetSession", contentType: "application/json; charset=utf-8", data: { IsExpand: t }, dataType: "json", success: function () { } }) }), $("body").on("hidden.bs.collapse shown.bs.collapse", ".additional-main", function () { $(this).find(".more-less").toggleClass("fa-plus fa-minus") }), $("body").on("click", ".clsEnrichment", function () { var t = $("#MatchDetailModal #btnAddCompany"), a = (JSON.parse(t.attr("data-val")), $(this).attr("data-dunsnumber")), e = $(this).attr("data-company"), n = $(this).attr("data-street") ? $(this).attr("data-street") + " " + $(this).attr("data-address") : $(this).attr("data-address"), i = $(this).attr("data-city"), r = $(this).attr("data-state"), d = $(this).attr("data-postal"), s = $(this).attr("data-srcId"), l = $(this).attr("data-phone"), c = $(this).attr("data-country"), o = ConvertEncrypte(encodeURI("DunsNumber:" + a + "@#$Company:" + e + "@#$Address:" + n + "@#$City:" + i + "@#$State:" + r + "@#$Postal:" + d + "@#$CountryCode:@#$SrcId:" + s + "@#$Phone:" + l + "@#$Country:" + c)).split("+").join("***"); $.ajax({ type: "GET", url: "/StewardshipPortal/PreviewEnrichmentData?Parameters=" + o, dataType: "HTML", success: function (t) { $("#CleanSearchEnrichmentDetailModalMain").html(t), DraggableModalPopup("#EnrichmentDetailModal") } }) });
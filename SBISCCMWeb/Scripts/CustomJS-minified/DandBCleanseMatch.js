$("body").on("show.bs.collapse", ".collapse", function () { $(".partialrow").each(function () { $(this).removeClass("current") }), $(".panel-collapse.in").collapse("hide"), $(".trAutoAcceptanceItemView").each(function () { $(this).hide() }), $(this).parents("tr").show(), $(this).parents("tr").prev().addClass("current") }), $("body").on("hide.bs.collapse", ".collapse", function () { $(this).parents("tr").hide() }), $("body").on("click", ".collapsed", function () { var e = $(this); $(".removecollapsed").each(function () { $(this).removeClass("removecollapsed"), $(this).addClass("collapsed") }), $(e).addClass("removecollapsed"), $(e).removeClass("collapsed"); var t = $(this).attr("data-CriteriaGroupId"); $.ajax({ type: "GET", url: "/DNBIdentityResolution/GetAutoAcceptanceCriteriaDetailByGroupId?CriteriaGroupId=" + t, dataType: "HTML", contentType: "application/html", cache: !1, success: function (t) { $(".trAutoAcceptanceItemView").each(function () { $(this).remove() }), $(e).closest("TR").after(t) }, error: function (e, t, n) { } }) }), $("body").on("click", ".removecollapsed", function () { $(this).addClass("collapsed"), $(this).removeClass("removecollapsed"), $(".trAutoAcceptanceItemView").each(function () { $(this).remove() }) }); var MultiAutoAccept = ""; function OnSuccessAutoAcceptance() { $("#divProgress").hide(), $("select.chzn-select").chosen({ no_results_text: "Oops, nothing found!", width: "100%", search_contains: !0 }) } function CloseImportPanel() { $("#DAndBAutoAcceptanceImportModal").modal("hide"), $.ajax({ type: "GET", url: "/DNBIdentityResolution/CleanseMatchDataMatchAutoAccept", dataType: "HTML", async: !1, success: function (e) { $("#DAndBAutoAcceptImportModalMain").html(e), DraggableModalPopup("#DAndBAutoAcceptImportModal"), onLoadCleansMatchImportData() } }) } function isInArray(e, t) { return t.indexOf(e) > -1 } function RangeValidation(e) { var t = e.replace(/[^0-9\.]/g, ""); return Math.abs(t) } function LoadIndexMinimumConfidenceCodeOverride() { $.ajax({ type: "GET", url: "/DNBIdentityResolution/IndexMinimumConfidenceCodeOverride", dataType: "html", contentType: "application/html", cache: !1, success: function (e) { $("#Auto-AcceptOverrite #divPartialMinimumConfidenceCodeOverride").html(e), $("table.MinCCOverrideTB tbody tr").removeClass("current"), $("table.MinCCOverrideTB tbody tr:first").addClass("current"), InitMinimumMatchCriteriaDataTable(), $("#Auto-AcceptOverrite #divPartialAddUpdateMinimumConfidenceCodeOverride").html(e) } }) } function selectFirstTRMinOverride() { $("table.MinCCOverrideTB tr").each(function () { $(this).removeClass("current") }), $("table.MinCCOverrideTB tbody tr:first").addClass("current"); var e = $("table.MinCCOverrideTB tbody tr:first").attr("data-MinCCID"); null == e && (e = 0), $("table.MinCCOverrideTB tbody tr:first").html().indexOf("No record(s) Found") > 0 && $("table.MinCCOverrideTB tbody tr:first").removeClass("current"); var t = "/DNBIdentityResolution/UpsertMinimumConfidenceCodeOverride?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"); $.ajax({ type: "GET", url: t, dataType: "HTML", contentType: "application/html", cache: !1, success: function (e) { $("table.MinCCOverrideTB tbody tr").removeClass("current"), $("table.MinCCOverrideTB tbody tr:first").addClass("current"), $("#Auto-AcceptOverrite #divPartialAddUpdateMinimumConfidenceCodeOverride").html(e) }, error: function (e, t, n) { } }) } function InitMinimumMatchCriteriaDataTable() { InitDataTable(".MinCCOverrideTB", [10, 20, 30], !1, [0, "desc"]) } function OnSuccessUpsertMinCCOverride(e) { ShowMessageNotification("success", e.message), e.result && LoadIndexMinimumConfidenceCodeOverride() } function EnableMinimumCCOverride() { $("#frm_MinCCfrm #MinConfidenceCode").prop("disabled", !1), $("#frm_MinCCfrm #MaxCandidateQty").prop("disabled", !1), $("#frm_MinCCfrm .MinCCtags").prop("disabled", !1), $("#btnMinccoverride").show(), $("#AddMinCCTag").show(), $("#frm_MinCCfrm #CredentialId").prop("disabled", !1) } function setBlankMinimumCCOverride() { $("#frm_MinCCfrm #Id").val("0"), $("#frm_MinCCfrm #MinConfidenceCode").val($("#frm_MinCCfrm #MinConfidenceCode option:first").val()), $("#frm_MinCCfrm #MaxCandidateQty").val($("#frm_MinCCfrm #MaxCandidateQty option:first").val()), $("#frm_MinCCfrm .MinCCtags").val($("#frm_MinCCfrm .MinCCtags option:first").val()), $("#frm_MinCCfrm #CredentialId").val($("#frm_MinCCfrm #CredentialId option:first").val()), $("#frm_MinCCfrm #Tags").val(""), $(".MinCCtags").trigger("chosen:updated"), $("#btnMinccoverride").val("Add") } function ValidationProcess() { var e = $("#frm_MinCCfrm #Tag").val(), t = $("#frm_MinCCfrm #MaxCandidateQty").val(), n = 0; return "" == $("#frm_MinCCfrm #CredentialId").val() ? ($("#spnCredNames").show(), n++) : $("#spnCredNames").hide(), "" == e ? ($("#spnTags").show(), n++) : $("#spnTags").hide(), "0" == t || "" == t ? ($("#frm_MinCCfrm #spnMaxCandidateQty").show(), n++) : $("#frm_MinCCfrm #spnMaxCandidateQty").hide(), !(n > 0) } function GetIndexMinimumMatchCriteria() { $.ajax({ type: "GET", url: "/DNB/MinimumMatchCriteria", dataType: "HTML", contentType: "application/html", cache: !1, success: function (e) { "lob" == $.UserRole.toLowerCase() && ($("#form_MinimumMatchCriteria #Settings_4__SettingValue").attr("disabled", !0), $("#form_MinimumMatchCriteria #divMinimumConfidenceLevel").addClass("CustomeSliderDisable")); var t = document.getElementById("divMinimumConfidenceLevel"); noUiSlider.create(t, { start: [0], range: { min: [0], max: [10] }, step: 1 }); var n = $("#MinConfidenceCode").val(); "" != n && (document.getElementById("divminConfidencelevel").innerHTML = n, $("#minConfidencelevel").val(n), t.noUiSlider.set(n)), $("#divMinimumConfidenceLevel").addClass("form-control"), t.noUiSlider.on("change", function (e, t) { var n = document.getElementById("divminConfidencelevel"); $("#MinConfidenceCodes").val(); n.innerHTML = parseInt(e[t]), $("#minConfidencelevel").val(parseInt(e[t])) }) } }) } function RangeValidate(e, t) { var n = e.replace(/[^0-9\.]/g, ""); return n > t ? t : Math.abs(n) } function GetIndexExclusionsCleanseMatch() { $.pjax({ url: "/DNB/ExclusionsCleanseMatch", container: "#divPartialExclusionsCleanseMatch", timeout: 5e4 }).done(function () { "lob" == $.UserRole.toLowerCase() && ($("#frmCleanseExclusion .chzn-select").each(function () { $(this).attr("disabled", !0) }), $("#frmCleanseExclusion input[type=checkbox]").each(function () { $(this).attr("disabled", !0) }), $("#frmCleanseExclusion .OpenTags").each(function () { $(this).remove() })), ExclusionLoadTags(), "global" == $.UserRole.toLowerCase() && (oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active1", "#TagsValue1", "#Tags1", "#TagList1"), oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active2", "#TagsValue2", "#Tags1", "#TagList2"), oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active3", "#TagsValue3", "#Tags1", "#TagList3"), oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active4", "#TagsValue4", "#Tags1", "#TagList4"), oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active5", "#TagsValue5", "#Tags1", "#TagList5")) }) } function oCleanseMatchExclusionsChanges(e, t, n, a) { $(e).is(":checked") ? ($(t).attr("disabled", !1), $(e).parent().parent().find(".OpenTags").show()) : ($(t).attr("disabled", !0), $(t).val(""), $(n).val(""), $(a).val(""), $(e).parent().parent().find(".OpenTags").hide()), $(t).trigger("chosen:updated") } function LoadIndexAutoAcceptance() { $.pjax({ url: "/DNB/AutoAcceptance", container: "#divPartialAutoAcceptance", timeout: 5e4 }).done(function () { AutoAcceptanceEnableDisableRule() }) } function AutoAcceptanceEnableDisableRule() { $(function () { var e = $('input[name="__RequestVerificationToken"]').val(); $.contextMenu({ selector: ".context-menu-one", callback: function (e, t) { }, events: { show: function (e) { setTimeout(function () { e.$menu.find(".context-menu-disabled > span").attr("title") }, 50) } }, items: { DisableRule: { name: disableRule, titile: "Disable", callback: function () { var t = $(this).attr("data-GroupId"), n = "true" != $("#frmExportToExcel #Active").val().toLowerCase(), a = "/DNBIdentityResolution/DisableRule?Parameters=" + ConvertEncrypte(encodeURI("GroupId:" + t + "@#$Activate:" + n)).split("+").join("***"); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: "Are you sure you want to " + ("true" == $("#frmExportToExcel #Active").val().toLowerCase() ? "disable" : "enable") + " rule ?", callback: function (t) { t && $.ajax({ type: "POST", url: a, headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json; charset=UTF-8", async: !1, cache: !1, success: function (e) { ShowMessageNotification("success", e.message), LoadIndexAutoAcceptancePagination() }, error: function (e, t, n) { } }) } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }), $(".context-menu-one").on("contextmenu", function (e) { "true" == $("#frmExportToExcel #Active").val().toLowerCase() ? $(".context-menu-item span").text("Disable rule") : $(".context-menu-item span").text("Enable rule") }) }) } function ClosePopupReload() { LoadIndexAutoAcceptancePagination() } function LoadIndexAutoAcceptancePagination() { var e = $(".pagevalueChangeAutoAcceptanceCriteria")[0].value, t = $("#SortBy").val(), n = $("#SortOrder").val(), a = $("#CountyGroupId").val(), i = $("#frmExportToExcel #Tags").val(), c = $("#frmExportToExcel #AutoAcceptance_Active").prop("checked"); $("#ConfidenceCode").val(); LoadIndexAutoAcceptance() } function LoadInsertUpdateAutoAcceptance(e) { var t = "/DNBIdentityResolution/InsertUpdateAutoAcceptance"; null != e && "" != e && (t += e), $.ajax({ type: "GET", url: t, dataType: "HTML", async: !1, success: function (e) { $("#divProgress").hide(), $("#InsertAutoAcceptanceModalMain").html(e), DraggableModalPopup("#InsertUpdateAutoAcceptanceModal"), OnReadyInsertUpdateAutoAcceptance() } }) } function OnReadyInsertUpdateAutoAcceptance() { $(".AutoAcceptanceMatchGrade select").each(function () { var e = $(this).attr("id").replace("Value", ""), t = "#" + e + "Value", n = $("#" + e + "List").val().split(","); $(t + "  option").each(function () { for (var e = 0; e < n.length; e++)$(this).val() == n[e] && $(this).attr("selected", "selected") }) }), "lob" == $("#UserRole").val().toLowerCase() && ($(".chzn-select").attr("data-placeholder", "Add Tags (Required)"), $(".chzn-select").trigger("chosen:updated")), BuildMultiSelect(), LoadTags(), MatchGradeComponentChange() } function OnSuccessUpsertAutoAcceptance(e) { ShowMessageNotification("success", e.message), e.result && ($("#InsertUpdateAutoAcceptanceModal").modal("hide"), LoadIndexAutoAcceptance()) } function LoadIndexAutoAcceptDirectives() { $.pjax({ url: "/DNB/AutoAcceptDirectives", container: "#divPartialAutoAcceptDirectives", timeout: 5e4 }).done(function () { "lob" == $.UserRole.toLowerCase() && ($("#frmAutoAcceptanceDirective .chzn-select").each(function () { $(this).attr("disabled", !0) }), $("#frmAutoAcceptanceDirective input[type=checkbox]").each(function () { $(this).attr("disabled", !0) }), $("#frmAutoAcceptanceDirective .OpenTags").each(function () { $(this).remove() })), DirectiveLoadTags(), "global" == $.UserRole.toLowerCase() && (oAutoAcceptanceDirectives1Changes(), oAutoAcceptanceDirectives2Changes(), oAutoAcceptanceDirectives3Changes()) }) } function oAutoAcceptanceDirectives1Changes() { $("input#oAutoAcceptanceDirectivesEntity_Active1").is(":checked") ? ($("#TagsValue6").attr("disabled", !1), $("input#oAutoAcceptanceDirectivesEntity_Active1").parent().parent().find(".OpenTags").show()) : ($("#TagsValue6").attr("disabled", !0), $("#TagsValue6").val(""), $("#Tags6").val(""), $("#TagList6").val(""), $("input#oAutoAcceptanceDirectivesEntity_Active1").parent().parent().find(".OpenTags").hide()), $("#TagsValue6").trigger("chosen:updated") } function oAutoAcceptanceDirectives2Changes() { $("input#oAutoAcceptanceDirectivesEntity_Active2").is(":checked") ? ($("#TagsValue7").attr("disabled", !1), $("input#oAutoAcceptanceDirectivesEntity_Active2").parent().parent().find(".OpenTags").show()) : ($("#TagsValue7").attr("disabled", !0), $("#TagsValue7").val(""), $("#Tags7").val(""), $("#TagList7").val(""), $("input#oAutoAcceptanceDirectivesEntity_Active2").parent().parent().find(".OpenTags").hide()), $("#TagsValue7").trigger("chosen:updated") } function oAutoAcceptanceDirectives3Changes() { $("input#oAutoAcceptanceDirectivesEntity_Active3").is(":checked") ? ($("#TagsValue8").attr("disabled", !1), $("input#oAutoAcceptanceDirectivesEntity_Active3").parent().parent().find(".OpenTags").show()) : ($("#TagsValue8").attr("disabled", !0), $("#TagsValue8").val(""), $("#Tags8").val(""), $("#TagList8").val(""), $("input#oAutoAcceptanceDirectivesEntity_Active3").parent().parent().find(".OpenTags").hide()), $("#TagsValue8").trigger("chosen:updated") } $("body").on("change", "#MultipleSelect", function () { MultiAutoAccept = "", 1 == $(this).prop("checked") ? ($(".SelectedDelete").prop("checked"), $(".SelectedDelete").each(function () { MultiAutoAccept = MultiAutoAccept + $(this).attr("data-val") + ",", $(this).prop("checked", !0) })) : $(".SelectedDelete").each(function () { $(this).prop("checked", !1) }), $("#MultiDeleteAutoAccept").val(MultiAutoAccept) }), $("body").on("change", ".SelectedDelete", function () { var e = $(this).attr("data-val"); if (1 == $(this).prop("checked")) MultiAutoAccept = MultiAutoAccept + e + ","; else { $("#MultipleSelect").prop("checked", !1); for (var t = MultiAutoAccept.split(","), n = "", a = 0; a < t.length; a++)"" != t[a] && e != t[a] && (n = n + t[a] + ","); MultiAutoAccept = n } var i = 0, c = 0; $(".SelectedDelete").each(function () { i += 1, 1 == $(this).prop("checked") && (c += 1) }), i == c && $("#MultipleSelect").prop("checked", !0), $("#MultiDeleteAutoAccept").val(MultiAutoAccept) }), $("body").on("click", "#btnImportData", function () { $.ajax({ type: "GET", url: "/DNBIdentityResolution/ImportData", dataType: "HTML", async: !1, success: function (e) { $("#divProgress").hide(), $("#DAndBAutoAcceptanceImportModalMain").html(e), DraggableModalPopup("#DAndBAutoAcceptanceImportModal"), onLoadCleansMatchImportData() } }) }), $("body").on("click", "table.MinCCOverrideTB tbody tr", function () { if ($("table.MinCCOverrideTB tbody tr:first").html().indexOf("No record(s) Found") < 0 && !$(this).hasClass("current")) { $("table.MinCCOverrideTB tbody tr").each(function () { $(this).removeClass("current") }), $(this).closest("tr").addClass("current"); var e = $(this).attr("data-MinCCID"); $.ajax({ type: "GET", cache: !1, url: "/DNBIdentityResolution/UpsertMinimumConfidenceCodeOverride?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), dataType: "HTML", contentType: "application/html", async: !1, success: function (e) { $("#divPartialAddUpdateMinimumConfidenceCodeOverride").html(e) } }) } }), $("body").on("click", "#AddMinCCOverride", function () { EnableMinimumCCOverride(), setBlankMinimumCCOverride(), $("table.MinCCOverrideTB tbody tr").each(function () { $(this).removeClass("current") }) }), $("body").on("click", "#EditMinCCOverride", function () { EnableMinimumCCOverride(), $(".MinCCtag").trigger("chosen:updated") }), $("body").on("click", ".DeleteMinCCOverride", function () { var e = $(this).attr("id"), t = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteMinCCOverride, callback: function (n) { n && $.ajax({ type: "POST", url: "/DNBIdentityResolution/DeleteMinCCOverride?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), dataType: "JSON", headers: { __RequestVerificationToken: t }, contentType: "application/json", cache: !1, success: function (e) { ShowMessageNotification("success", e.message), e.result && LoadIndexMinimumConfidenceCodeOverride() }, error: function (e, t, n) { } }) } }) }), $("body").on("keyup", "#frm_MinCCfrm #MaxCandidateQty", function (e) { this.value = RangeValidate(this.value, 50), "0" == this.value && (this.value = "") }), $("body").on("click", "#btnSubmitMinimumMatch", function () { var e = $("#formMinMatchCriteria #minConfidencelevel").val(), t = $("#formMinMatchCriteria #MaxCandidateQty").val(), n = $("#formMinMatchCriteria #Id").val(), a = $("#formMinMatchCriteria #CredentialId").val(), i = 0; if ("" == a ? ($("#formMinMatchCriteria #spnCredName").show(), i++) : $("#formMinMatchCriteria #spnCredName").hide(), "0" == t ? ($("#formMinMatchCriteria #spnMaxCandidateQty").show(), i++) : t >= 1 && t <= 50 ? $("#formMinMatchCriteria #spnMaxCandidateQty").hide() : ($("#formMinMatchCriteria #spnMaxCandidateQty").show(), i++), "0" == t ? ($("#formMinMatchCriteria #spnMaxCandidateQty").show(), i++) : t >= 1 && t <= 50 ? $("#formMinMatchCriteria #spnMaxCandidateQty").hide() : ($("#formMinMatchCriteria #spnMaxCandidateQty").show(), i++), e >= 1 && e <= 10 ? $("#formMinMatchCriteria #spnMinConfidenceLevel").hide() : ($("#formMinMatchCriteria #spnMinConfidenceLevel").show(), i++), i > 0) return !1; var c = "MinConfidenceCode:" + e + "@#$MaxCandidateQty:" + t + "@#$CredentialName:" + CredentialName + "@#$Id:" + n + "@#$CredentialId:" + a, o = ConvertEncrypte(encodeURI(c)).split("+").join("***"); $.ajax({ type: "POST", url: "/DNBIdentityResolution/IndexMinimumMatchCriteria?Parameters=" + o, dataType: "json", contentType: "application/json", success: function (e) { ShowMessageNotification("success", e.message) }, error: function (e, t, n) { } }) }), $("body").on("keyup", "#formMinMatchCriteria #MaxCandidateQty", function (e) { this.value = RangeValidation(this.value), "0" == this.value && (this.value = "") }), $("body").on("change", "#oCleanseMatchExclusionsEntity_Active1", function () { "global" == $.UserRole.toLowerCase() && oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active1", "#TagsValue1", "#Tags1", "#TagList1") }), $("body").on("change", "#oCleanseMatchExclusionsEntity_Active2", function () { "global" == $.UserRole.toLowerCase() && oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active2", "#TagsValue2", "#Tags1", "#TagList2") }), $("body").on("change", "#oCleanseMatchExclusionsEntity_Active3", function () { "global" == $.UserRole.toLowerCase() && oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active3", "#TagsValue3", "#Tags1", "#TagList3") }), $("body").on("change", "#oCleanseMatchExclusionsEntity_Active4", function () { "global" == $.UserRole.toLowerCase() && oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active4", "#TagsValue4", "#Tags1", "#TagList4") }), $("body").on("change", "#oCleanseMatchExclusionsEntity_Active5", function () { "global" == $.UserRole.toLowerCase() && oCleanseMatchExclusionsChanges("input#oCleanseMatchExclusionsEntity_Active5", "#TagsValue5", "#Tags1", "#TagList5") }), $("body").on("click", "#btnSubmitExclusion", function () { var e = "undefined" == $("#oCleanseMatchExclusionsEntity_Active1").val() ? "false" : $("#oCleanseMatchExclusionsEntity_Active1").is(":checked"), t = $("#Tags1").val(), n = "undefined" == $("#oCleanseMatchExclusionsEntity_Active2").val() ? "false" : $("#oCleanseMatchExclusionsEntity_Active2").is(":checked"), a = $("#Tags2").val(), i = "undefined" == $("#oCleanseMatchExclusionsEntity_Active3").val() ? "false" : $("#oCleanseMatchExclusionsEntity_Active3").is(":checked"), c = $("#Tags3").val(), o = "undefined" == $("#oCleanseMatchExclusionsEntity_Active4").val() ? "false" : $("#oCleanseMatchExclusionsEntity_Active4").is(":checked"), s = $("#Tags4").val(), r = "undefined" == $("#oCleanseMatchExclusionsEntity_Active5").val() ? "false" : $("#oCleanseMatchExclusionsEntity_Active5").is(":checked"), l = $("#Tags5").val(); $.post("/DNBIdentityResolution/CleanseMatchExclusions", "ExcludeNonHeadQuarters=" + e + "&Tags1=" + encodeURIComponent(t) + "&ExcludeNonMarketable=" + n + "&Tags2=" + encodeURIComponent(a) + "&ExcludeOutofBusiness=" + i + "&Tags3=" + encodeURIComponent(c) + "&ExcludeUndeliverable=" + o + "&Tags4=" + encodeURIComponent(s) + "&ExcludeUnreachable=" + r + "&Tags5=" + encodeURIComponent(l), function (e) { ShowMessageNotification("success", dataUpdated) }) }), $("body").on("click", "#btnclearFilter", function () { LoadIndexAutoAcceptance("/DNBIdentityResolution/IndexAutoAcceptance?pagevalue=" + $(".pagevalueChangeAutoAcceptanceCriteria")[0].value + "&sortby=" + $("#SortBy").val() + "&sortorder=" + $("#SortOrder").val()), $("#ConfidenceCode").val($("#ConfidenceCode option:first").val()), $("#CountyGroupId").val($("#CountyGroupId option:first").val()), $(".tagstylebox #Tags").val($(".tagstylebox #Tags option:first").val()), $("#MatchGrade").val($("#MatchGrade option:first").val()), $("#MatchGrade").trigger("chosen:updated") }), $("body").on("change", ".pagevalueChangeAutoAcceptanceCriteria", function () { LoadIndexAutoAcceptancePagination() }), $("body").on("click", "#btnfrmFilter", function () { LoadIndexAutoAcceptancePagination() }), $("body").on("click", "#btnAddAAC", function () { LoadInsertUpdateAutoAcceptance() }), $("body").on("click", ".editAutoAcceptance", function () { var e = $(this).attr("data-id"); "" != e && LoadInsertUpdateAutoAcceptance("?Parameters=" + e) }), $("body").on("click", ".deleteAutoAcceptance", function () { var e = $(this); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: deleteAutoAcceptance, callback: function (t) { if (t) { var n = e.attr("data-CriteriaGroupId"); return $.ajax({ type: "GET", url: "/DNBIdentityResolution/DeleteComment?CriteriaGroupId=" + n + "&ToCall=DeleteAcceptance", dataType: "HTML", async: !1, success: function (e) { $("#divProgress").hide(), $("#DeleteAutoAcceptanceModalMain").html(e), DraggableModalPopup("#DeleteAutoAcceptanceDataModal") } }), !0 } } }), !1 }), $("body").on("click", "#btnMultipleDeleteAutoAccept", function () { var e = $("#MultiDeleteAutoAccept").val(); if ("" == (e = e.slice(0, -1))) return ShowMessageNotification("success", selectRecordtoDelete), !1; bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: multipleDeleteAutoAccept, callback: function (t) { t && $.ajax({ type: "GET", url: "/DNBIdentityResolution/DeleteComment?CriteriaGroupId=" + e + "&ToCall=DeleteAcceptance", dataType: "HTML", async: !1, success: function (e) { $("#divProgress").hide(), $("#DeleteAutoAcceptanceModalMain").html(e), DraggableModalPopup("#DeleteAutoAcceptanceDataModal") } }) } }) }), $("body").on("click", "#btnExportToExcel", function () { "No data are available" == $(".AutoAcceptanceTbcenter tbody tr").text().trim() ? ShowMessageNotification("success", noRecordsFound) : ($("#frmExportToExcel #Active").val($("#frmExportToExcel #AutoAcceptance_Active").prop("checked")), $("#frmExportToExcel").submit()) }), $("body").on("click", "#btnRunRule", function () { var e = $('input[name="__RequestVerificationToken"]').val(); return bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: runRule, callback: function (t) { t && $.ajax({ type: "POST", url: "/DNBIdentityResolution/RunAutoAcceptanceRule/", data: "", headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { ShowMessageNotification("success", e.message) }, error: function (e, t, n) { } }) } }), !1 }), $("body").on("change", "#oAutoAcceptanceDirectivesEntity_Active1", function () { "global" == $.UserRole.toLowerCase() && oAutoAcceptanceDirectives1Changes() }), $("body").on("change", "#oAutoAcceptanceDirectivesEntity_Active2", function () { "global" == $.UserRole.toLowerCase() && oAutoAcceptanceDirectives2Changes() }), $("body").on("change", "#oAutoAcceptanceDirectivesEntity_Active3", function () { "global" == $.UserRole.toLowerCase() && oAutoAcceptanceDirectives3Changes() }), $("body").on("click", "#btnSubmitDirectives", function () { var e = "undefined" == $("#oAutoAcceptanceDirectivesEntity_Active1").val() ? "false" : $("#oAutoAcceptanceDirectivesEntity_Active1").is(":checked"), t = $("#Tags6").val(), n = "undefined" == $("#oAutoAcceptanceDirectivesEntity_Active2").val() ? "false" : $("#oAutoAcceptanceDirectivesEntity_Active2").is(":checked"), a = $("#Tags7").val(), i = "undefined" == $("#oAutoAcceptanceDirectivesEntity_Active3").val() ? "false" : $("#oAutoAcceptanceDirectivesEntity_Active3").is(":checked"), c = $("#Tags8").val(); $.post("/DNBIdentityResolution/AutoAcceptanceDirectives", "AcceptActiveRecordsOnly=" + e + "&Tags1=" + t + "&PreferHeadquartersRecord=" + n + "&Tags2=" + a + "&AcceptHeadquartersRecordOnly=" + i + "&Tags3=" + c, function (e) { ShowMessageNotification("success", e.message) }) });
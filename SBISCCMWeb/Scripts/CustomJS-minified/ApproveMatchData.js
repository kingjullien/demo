function clearCompanyData() { $("#txtScrRecId").val(""), $("#txtCompany").val(""), $("#txtCity").val(""), $("select#State").prop("selectedIndex", 0), $("select#Country").prop("selectedIndex", 0) } function clearAllOtherData() { $("#txtScrRecId").val(""), $("#txtCompany").val(""), $("#txtCity").val(""), $("select#State").prop("selectedIndex", 0), $("select#Country").prop("selectedIndex", 0), $("select#CompanyMatch").prop("selectedIndex", 0), $("select#CityName").prop("selectedIndex", 0), $("select#StreetNo").prop("selectedIndex", 0), $("select#StateName").prop("selectedIndex", 0), $("select#StreetName").prop("selectedIndex", 0), $("select#PostalCode").prop("selectedIndex", 0), $("select#Telephone").prop("selectedIndex", 0), $("#txtMatchGrade").val(""), $(".noUi-origin").css("left", "0"), $("#divMinConfidentCode").html("0.00"), $("#minConfidentCode").val("0.00"), 1 == $("#SelectTopMatch").prop("checked") && $("#SelectTopMatch").click() } function CallAcceptLCMMatches(e, t) { var n = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/AcceptLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: n }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, n) { } }) } function MatchCallAcceptLCMMatches(e, t, n) { $.ajax({ type: "POST", url: "/ApproveMatchData/AcceptLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: n }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, n) { } }) } function CallRejectLCMMatches(e, t) { var n = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/RejectLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: n }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, n) { } }) } function MatchCallRejectLCMMatches(e, t, n) { $.ajax({ type: "POST", url: "/ApproveMatchData/RejectLCMMatches/", data: JSON.stringify({ id: e, MatchSeqence: t }), headers: { __RequestVerificationToken: n }, dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, n) { } }) } function OpenStewardshipNote(e, t, n) { return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/ApproveMatchData/OpenSearchData?InputId=" + e + "&count=" + t + "&Notes=" + n }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupStewardShipNotes" }), !1 } function pagination() { clearAllOtherData(), setup_dashboard_widgets_desktop(), $("body").removeClass("nooverflow") } function OnSuccess() { setup_dashboard_widgets_desktop(), $("body").removeClass("nooverflow") } function matchItemNextClick(e, t) { if ("" != e) { var n = "#" + e + "DUNS" + t, a = "#" + e + "-2-" + t; $(n).parent().find(".currentChildRow").each(function () { $(this).removeClass("current") }), $(n).prev().removeClass("current"), $(n).addClass("current"), $(a).addClass("current"), $InnerTableId = $("#innertable" + t), $AllTr = $InnerTableId.find("tbody").find("tr"); var c = parseInt(($(a).index() + 1) / 2) - 1; $InnerTableId.find("tbody").scrollTop(($($AllTr[0]).height() + $($AllTr[1]).height()) * c - 50), $("#divProgress").hide() } } function matchItemPrevClick(e, t) { if ("" != e) { var n = "#" + e + "DUNS" + t, a = "#" + e + "-2-" + t; $(n).parent().find(".currentChildRow").each(function () { $(this).removeClass("current") }), $(n).addClass("current"), $(a).addClass("current"), $InnerTableId = $("#innertable" + t), $AllTr = $InnerTableId.find("tbody").find("tr"); var c = parseInt(($(a).index() + 1) / 2) - 1; $InnerTableId.find("tbody").scrollTop(($($AllTr[0]).height() + $($AllTr[1]).height()) * c - 50) } } function backToparent() { $.ajax({ type: "POST", url: "/ApproveMatchData/GetFilteredCompanyList/", data: "", dataType: "json", contentType: "application/json", success: function (e) { }, error: function (e, t, n) { } }) } function backToparent2() { $.magnificPopup.close() } function CloseInvestigationWindow() { window.parent.$.magnificPopup.close() } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide(), triggerBubble() }), $.ajaxSetup({ cache: !1 }), $(document).ready(function () { $("#divProgress").show(); var e = document.getElementById("slider-range"); noUiSlider.create(e, { start: [0], range: { min: [0], max: [10] }, pips: { mode: "steps", density: 10 }, step: 1 }), $("#slider-range").addClass("form-control"), e.noUiSlider.on("change", function (e, t) { document.getElementById("divMinConfidentCode").innerHTML = e[t], $("#minConfidentCode").val(e[t]), $("#form_StewardshipPortal").submit() }), $("#divProgress").hide() }), $("#btnClearCompanyData").click(function () { clearCompanyData() }), $("#btnClearMatchFilter").click(function () { clearAllOtherData() }), $("body").on("click", "#btnAcceptSelectedMatches", function () { $("body").removeClass("nooverflow") }), $("body").on("click", "#btnRejectSelectedMatches", function () { $("body").removeClass("nooverflow"), clearAllOtherData() }), $("#btnClose").click(function () { clearAllOtherData() }), $("body").on("show.bs.collapse", ".collapse", function () { $(".partialrow").each(function () { $(this).removeClass("current") }), $(".panel-collapse.in").collapse("hide"), $(".trMatchedItemView").each(function () { $(this).hide() }), $(this).parents("tr").show(), $(this).parents("tr").prev().addClass("current") }), $("body").on("hide.bs.collapse", ".collapse", function () { $(this).parents("tr").hide() }), $("body").on("click", "#trig", function () { $("#colMain").toggleClass("col-md-9 col-md-12"), $("#colPush").toggleClass("col-md-3 col-md-0") }), $("body").on("click", ".clsViewMatchedItemDetails", function () { $(".currentChildRow").each(function () { $(this).removeClass("current") }), $(this).closest(".currentChildRow").addClass("current"), $(this).closest(".currentChildRow").next().addClass("current"); var e = $(this).attr("data-val"), t = "id:" + $(this).attr("data-Id") + "@#$childButtonId:" + $(this).attr("data-DUNS") + "@#$dataNext:" + $(this).attr("data-next") + "@#$dataPrev:" + $(this).attr("data-prev") + "@#$count:" + $(this).attr("data-Seqence") + "@#$type:AdditionalFields@#$IsPartialView:false"; return $.magnificPopup.open({ items: { src: "/ApproveMatchData/cShowMatchedItesDetailsView?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***") }, type: "iframe", closeOnBgClick: !1, mainClass: "popInitiateReturn", callbacks: { open: function () { setTimeout(function () { $(".mfp-iframe").contents().find("html body #contentPopup").length > 0 && $(".mfp-iframe").contents().find("html body #contentPopup").html(e) }, 1500) } } }), !1 }), $("body").on("click", ".btnSelected", function () { var e = $(this).attr("id").replace("InnerMatch", ""), t = $(this).attr("data-val"); $(this).removeClass("btnSelected").addClass("btnUnselected"), parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), CallRejectLCMMatches(e, t) }), $("body").on("click", ".btnUnselected", function () { var e = $(this).attr("id").replace("InnerMatch", ""), t = $(this).attr("data-val"); parent.$("#" + e + "RejectAll").removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), parent.$("#" + e + "RejectAll").removeClass("parentbtnIdel").addClass("parentbtnUnselected"), parent.$("#" + e + "NotSelected").removeClass("NotSelected").addClass("SelectMathced"), $(this).closest("tr.trMatchedItemView").find(".btnSelected").removeClass("btnSelected").addClass("btnUnselected"), $(this).removeClass("btnUnselected").addClass("btnSelected"), CallAcceptLCMMatches(e, t), "False" == $("#Approve").val() && OpenStewardshipNote(e, t, "") }), $("body").on("click", ".parentbtnMatchRejected", function () { $(this).removeClass("parentbtnMatchRejected").addClass("parentbtnUnselected"), CallAcceptLCMMatches($(this).attr("id").replace("RejectAll", ""), "unrejectall") }), $("body").on("click", ".parentbtnIdel", function () { var e = $(this).attr("id").replace("RejectAll", ""); parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), parent.$("#" + e + "InnerMatch").each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("parentbtnIdel").addClass("parentbtnMatchRejected"), CallAcceptLCMMatches(e, "rejectall"), "False" == $("#Approve").val() && OpenStewardshipNote(e, "-1", "") }), $("body").on("click", ".parentbtnUnselected", function () { var e = $(this).attr("id").replace("RejectAll", ""); parent.$("#" + e + "NotSelected").removeClass("SelectMathced").addClass("NotSelected"), parent.$("." + e).each(function () { $(this).removeClass("btnSelected").addClass("btnUnselected") }), $(this).removeClass("parentbtnUnselected").addClass("parentbtnMatchRejected"), CallAcceptLCMMatches(e, "rejectall"), "False" == $("#Approve").val() && OpenStewardshipNote(e, "-1", "") }), $("body").on("click", ".userFilter", function () { return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/UserSessionFilter/popupUserFilter/" }, callbacks: { close: function () { location.reload() } }, closeOnBgClick: !1, mainClass: "popupUserSessionFilter" }), !1 }), $("body").on("click", ".DeleteFilter", function () { var e = $('input[name="__RequestVerificationToken"]').val(); return $(this).find("strong").removeClass("fa fa-plus"), $(this).find("strong").removeClass("fa fa-minus"), bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> Confirm", message: "Are you sure you want to delete session filter?", callback: function (t) { t && $.ajax({ type: "POST", url: "/ApproveMatchData/DeleteSessionFilter/", data: "", headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { "success" == e && location.reload() }, error: function (e, t, n) { } }) } }), !1 }), $("body").on("change", ".pagevalueChange", function () { var e = "/ApproveMatchData/Index/?pagevalue=" + $(this)[0].value; $("#divStewardshipPortal").load(e, function () { document.getElementById("slider-range").noUiSlider.set(0), setup_dashboard_widgets_desktop() }), $("body").removeClass("nooverflow") }), $("body").on("click", ".panelview", function () { var e = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/ApproveMatchData/SetUserLayoutPreference/", data: JSON.stringify({ userLayout: "GRID" }), headers: { __RequestVerificationToken: e }, dataType: "json", contentType: "application/json", success: function (e) { $(".set-panel").hide() }, error: function (e, t, n) { } }) }), $("body").on("click", ".sort-header", function () { $(this).addClass("headerSortDown"), $("body").removeClass("nooverflow") }), $("body").on("click", ".currentChildRow", function () { $(".currentChildRow").each(function () { $(this).removeClass("current") }), $(this).addClass("current"); var e = "#" + $(this).attr("id"); e.indexOf("-2") > -1 ? $(e.replace("-2-", "DUNS")).addClass("current") : $(e.replace("DUNS", "-2-")).addClass("current") }), $("body").on("click", ".StewardNote", function () { var e = $(this).attr("data-id"), t = $(this).attr("data-count"), n = $(this).attr("data-Note"); "True" == $("#Approve").val() && OpenStewardshipNote(e, t, n) }), $("body").on("click", ".pagination li", function (e) { var t = $(this).find("a").html(), n = $("#sortby").val(), a = $("#sortorder").val(), c = $("#pagevalue").val(), o = 0; return ($(".parentbtnUnselected").length > 0 || $(".parentbtnMatchRejected").length > 0 || $(".SelectMathced").length > 0) && (o = 1), !(o > 0) || (bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> Confirm", message: "You have unsaved changes. Are you sure you want to change page and discard the changes?", callback: function (e) { e && (document.getElementById("slider-range").noUiSlider.set(0), $.get("/ApproveMatchData/Index/", { page: t, sortby: n, sortorder: a, pagevalue: c }, function (e) { $("#divStewardshipPortal").html(e) })) } }), !1) }), $("body").on("click", ".trStewardshipPortal_td2", function () { var e = $(this).attr("id"); return $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/ApproveMatchData/popupCompanyAttribute?Parameters=" + e }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupCompanyAttribute" }), !1 }), $("body").on("click", ".InvestigateRecords", function () { return $.magnificPopup.open({ items: { src: "/InvestigateView/InvestigateRecords" }, type: "iframe", closeOnBgClick: !1, mainClass: "popInvestigation", callbacks: { open: function () { setTimeout(function () { $(".mfp-iframe").contents().find("html body #contentPopup").length > 0 && $(".mfp-iframe").contents().find("html body #contentPopup").html(data) }, 1500) } } }), !1 }), $(function () { var e = $("#ActivateFeature").val(), t = $('input[name="__RequestVerificationToken"]').val(), n = $("#LicenseEnableInvestigations").val(); null != n && "False" != n || (n = !0), "True" == n && (n = !1), $.contextMenu({ selector: ".context-menu-one", callback: function (e, t) { }, events: { show: function (t) { setTimeout(function () { t.$menu.find(".context-menu-disabled > span").attr("title", e) }, 50) } }, items: { AddCompany: { name: "Add match as a new company", callback: function () { var e = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/BadInputData/FillMatchData/", data: JSON.stringify({ matchRecord: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { "success" == e && $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/BadInputData/AddCompany" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupAddressCompany" }) }, error: function (e, t, n) { } }), "context-menu-icon context-menu-icon-quit" } }, AddInvestigation: { name: "Investigate Record", disabled: n, callback: function () { var e = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/InvestigateView/SetValue/", data: JSON.stringify({ IsCompany: !1, data: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { "success" == e && $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/InvestigateView/InvestigateRecords" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupInvestigateRecord" }) }, error: function (e, t, n) { } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }) }), $(function () { var e = $("#ActivateFeature").val(), t = $('input[name="__RequestVerificationToken"]').val(), n = $("#LicenseEnableInvestigations").val(); null != n && "False" != n || (n = !0), "True" == n && (n = !1), $.contextMenu({ selector: ".context-menu-one-match", callback: function (e, t) { }, events: { show: function (t) { setTimeout(function () { t.$menu.find(".context-menu-disabled > span").attr("title", e) }, 50) } }, items: { AddInvestigation: { name: "Investigate Record", disabled: n, titile: "Investigation", callback: function () { var e = $(this).attr("data-val"); return $.ajax({ type: "POST", url: "/InvestigateView/SetValue/", data: JSON.stringify({ IsCompany: !0, data: e }), headers: { __RequestVerificationToken: t }, dataType: "json", contentType: "application/json", async: !1, success: function (e) { "success" == e && $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/InvestigateView/InvestigateRecords" }, callbacks: { close: function () { } }, closeOnBgClick: !1, mainClass: "popupInvestigateRecord" }) }, error: function (e, t, n) { } }), "context-menu-icon context-menu-icon-quit" } } } }), $(".context-menu-one-match").on("click", function (e) { return "context-menu-icon context-menu-icon-quit" }) }), $("body").on("click", ".GoogleMapPopUp", function () { var e = $(this).attr("data-val"); return $.magnificPopup.open({ items: { src: "/StewardshipPortal/GoogleMapPopUp?id=" + e }, type: "iframe", closeOnBgClick: !1, mainClass: "popInvestigation", callbacks: {} }), !1 });
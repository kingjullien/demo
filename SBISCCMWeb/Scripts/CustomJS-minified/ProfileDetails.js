function backToparent() { $("#ResetPasswordModal").modal("hide"), location.href = "/Account/LogOff" } $(document).ajaxStart(function () { $("#divProgress").show() }).ajaxStop(function () { $("#divProgress").hide() }), $(document).ready(function () { $(".updateSecurityAnswer").prop("disabled", !0); $("#Imagepath").val() }), $("body").on("click", "#btnSubmit", function () { if ("" != $("#file").val()) { var e = $("#Imagepath").val(), a = $("#LoginId").val(), o = $("#UserId").val(), n = new FormData; document.getElementById("file").files[0]; n.append("file", $("#file")[0].files[0]), n.append("UserId", o), n.append("UserName", a), n.append("Imgpath", e); var t = $('input[name="__RequestVerificationToken"]').val(); $.ajax({ type: "POST", url: "/Home/UploadImage", data: n, headers: { __RequestVerificationToken: t }, dataType: "json", contentType: !1, processData: !1, async: !1, success: function (e) { e == failer && (ShowMessageNotification("success", removeImage, !1), window.location = "/Home/ProfileDetails"), e == success && ShowMessageNotification("error", uploadFile, !1, !0, LocationReload), e == wrongFormat && (ShowMessageNotification("success", allowedFormats, !1), window.location = "/Home/ProfileDetails", $("#file").val("")) }, error: function (e, a, o) { } }) } else ShowMessageNotification("success", specifyFile, !1) }), $("#file").change(function () { if ("" != $("#file").val()) { var e = ["jpeg", "jpg", "png", "gif", "bmp"]; -1 == $.inArray($(this).val().split(".").pop().toLowerCase(), e) && (ShowMessageNotification("success", allowedFormatsOnly + e.join(", "), !1), $("#file").val("")) } }), $(".ResetPassword").click(function () { var e = "UserId:" + $("#UserId").val() + "@#$EmailAddress:" + $("#EmailAddress").val(); return $.ajax({ type: "GET", url: "/Home/ResetPassword?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***"), dataType: "HTML", async: !1, success: function (e) { $("#ResetPasswordModalMain").html(e), DraggableModalPopup("#ResetPasswordModal") } }), !1 }), $("body").on("click", "#btRemoveImage", function () { var e = $('input[name="__RequestVerificationToken"]').val(); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> " + confirmBox, message: removeImage, callback: function (a) { if (a) { var o = $("#Imagepath").val(), n = $("#LoginId").val(), t = $("#UserId").val(), i = new FormData; i.append("UserId", t), i.append("UserName", n), i.append("Imgpath", o), $.ajax({ type: "POST", url: "/Home/RemoveImage", data: i, headers: { __RequestVerificationToken: e }, dataType: "json", contentType: !1, processData: !1, async: !1, success: function (e) { }, error: function (e, a, o) { } }), window.location.href = window.location.href } } }) }), $("body").on("focus", "#SecurityAnswer", function () { $("#SecurityAnswer").val(""), $(".updateSecurityAnswer").prop("disabled", !1) }), $("#SecurityAnswer").keyup(function (e) { var a = $(this).val(); new RegExp("<[^>]*>").test(a) && $(this).val("") }), $("#SecurityAnswer").on("change", function (e, a) { var o = $(this).val(); new RegExp("<[^>]*>").test(o) && $(this).val("") }), $("#SecurityAnswer").keypress(function (e) { var a = 0 == e.keyCode ? e.charCode : e.keyCode; return 47 != a && 60 != a && 62 != a }), $("body").on("focus", "#SecurityAnswer", function () { $("#SecurityAnswer").attr("readonly", !1) });
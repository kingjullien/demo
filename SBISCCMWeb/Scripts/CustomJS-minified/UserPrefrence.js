function validateEmail(e) { var r = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/; return r.test(e) } function LoaderProgress() { $("#divProgress").show() } $("body").on("click", "#btnAddUserPrefrence", function () { var e = $("#UserPrefPageValue").val(), r = $("#UserPrefSortBy").val(), a = $("#UserPrefSortOrder").val(); $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/MonitorProfile/CreateUserPrefrence" }, callbacks: { close: function () { var n = "/MonitorProfile/IndexUserPreference/?pagevalue=" + e + "&sortby=" + r + "&sortorder=" + a; $.ajax({ type: "POST", url: n, dataType: "HTML", contentType: "application/html", async: !1, success: function (e) { $("#divPartialUserPrefrenceData").html(e) }, error: function (e, r, a) { } }) } }, closeOnBgClick: !1, mainClass: "popupAddUserPrefrence" }) }), $("body").on("click", ".EditUserPrefrence", function () { var e = $(this).attr("id"), r = $("#UserPrefPageValue").val(), a = $("#UserPrefSortBy").val(), n = $("#UserPrefSortOrder").val(); $.magnificPopup.open({ preloader: !1, closeBtnInside: !0, type: "iframe", items: { src: "/MonitorProfile/CreateUserPrefrence?Parameters=" + ConvertEncrypte(encodeURI(e)).split("+").join("***") }, callbacks: { close: function () { var e = "/MonitorProfile/IndexUserPreference/?pagevalue=" + r + "&sortby=" + a + "&sortorder=" + n; $.ajax({ type: "POST", url: e, dataType: "HTML", contentType: "application/html", async: !1, success: function (e) { $("#divPartialUserPrefrenceData").html(e) }, error: function (e, r, a) { } }) } }, closeOnBgClick: !1, mainClass: "popupAddUserPrefrence" }) }), $("body").on("change", ".pagevalueChangeUserPrefrnc", function () { var e = $(this)[0].value, r = $("#UserPrefSortBy").val(), a = $("#UserPrefSortOrder").val(), n = "/MonitorProfile/IndexUserPreference/?pagevalue=" + e + "&sortby=" + r + "&sortorder=" + a; $.ajax({ type: "POST", url: n, dataType: "HTML", contentType: "application/html", async: !1, success: function (e) { $("#divPartialUserPrefrenceData").html(e) }, error: function (e, r, a) { } }) }), $("body").on("click", "#btnUserPreference", function () { var e = 0; return "" == $.trim($("#PreferenceName").val()) || void 0 == $("#PreferenceName").val() || null == $("#PreferenceName").val() ? (e++, $("#spnName").show()) : $("#spnName").hide(), "" == $.trim($("#PreferenceDescription").val()) || void 0 == $("#PreferenceDescription").val() || null == $("#PreferenceDescription").val() ? (e++, $("#spnDesc").show()) : $("#spnDesc").hide(), "" == $.trim($("#PreferenceValue").val()) || void 0 == $("#PreferenceValue").val() || null == $("#PreferenceValue").val() ? (e++, $("#spnEmailRequired").show()) : $("#spnEmailRequired").hide(), validateEmail($("#PreferenceValue").val()) ? $("#spnEmail").hide() : (e++, $("#spnEmail").show()), e > 0 ? !1 : !0 }), $("body").on("click", ".DeleteUserPrefrence", function () { var e = $("#UserPrefPageValue").val(), r = $("#UserPrefSortBy").val(), a = $("#UserPrefSortOrder").val(), n = $('input[name="__RequestVerificationToken"]').val(), t = $(this).attr("id"); bootbox.confirm({ title: "<i class='fa fa-check-square-o' aria-hidden='true'></i> Confirm", message: "Are you sure you want to delete this record?", callback: function (o) { o && ($("#divProgress").show(), $.ajax({ type: "POST", url: "/MonitorProfile/DeleteUserPrefrence?Parameters=" + ConvertEncrypte(encodeURI(t)).split("+").join("***"), dataType: "JSON", headers: { __RequestVerificationToken: n }, contentType: "application/json", async: !1, success: function (n) { "Success" == n ? bootbox.alert({ title: "<i class='fa fa-info-circle' aria-hidden='true'></i> Message", message: "Data deleted successfully", callback: function () { $.ajax({ type: "GET", url: "/MonitorProfile/IndexUserPreference?pagevalue=" + e + "&sortby=" + r + "&sortorder=" + a, dataType: "HTML", contentType: "application/html", cache: !1, async: !1, success: function (e) { $("#divPartialUserPrefrenceData").html(e) }, error: function (e, r, a) { } }) } }) : bootbox.alert({ title: "<i class='fa fa-info-circle' aria-hidden='true'></i> Message", message: n }) }, error: function (e, r, a) { } })) } }), $("#divProgress").hide() });
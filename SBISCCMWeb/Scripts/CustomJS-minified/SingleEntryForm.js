function loadCleansMatchDataTags() { "lob" == $.UserRole.toLowerCase() && ($(".SingleEntryFormTab #dataImportForm #TagsValue").attr("data-placeholder", "Add Tags (Required)"), $(".SingleEntryFormTab #dataImportForm #TagsValue").trigger("chosen:updated")), $(".chzn-select").length > 0 && $(".chzn-select").chosen().change(function (a) { a.target == this && $("#dataImportForm #Tags").val($(this).val()), "lob" == $.UserRole.toLowerCase() && Validation() }) } function Validation() { var a = $("input.rButtonImportData").is(":checked"); if (0 == a ? a = "Data Import" : 1 == a && (a = "Match Refresh"), "Match Refresh" == a) { var t = $("#matchRefreshForm #txtSrcRecordid").val().trim(), o = $("#matchRefreshForm #txtDUNSNumber").val().trim(), e = ($("#matchRefreshForm #txtState").val(), $("#matchRefreshForm #Country").val()), r = $("#matchRefreshForm #Tags").val(), n = 0; return "" != t && null != t || n++ , "" != o && null != o || n++ , "" != e && null != e || n++ , "lob" == $.UserRole.toLowerCase() && "" == r && n++ , n > 0 ? ($("#matchRefreshForm #btnImportData").attr("disabled", "disabled"), !1) : ($("#matchRefreshForm #btnImportData").removeAttr("disabled"), !0) } var s = $("#dataImportForm #txtSrcRecordid").val().trim(), l = ($("#dataImportForm #txtCompanyName").val().trim(), $("#dataImportForm #txtState").val(), $("#Country").val()), m = $("#Tags").val(), d = 0; return "" != s && null != s || d++ , "" != l && null != l || d++ , "lob" == $.UserRole.toLowerCase() && "" == m && d++ , d > 0 ? ($("#dataImportForm #btnImportData").attr("disabled", "disabled"), !1) : ($("#dataImportForm #btnImportData").removeAttr("disabled"), !0) } function matchRefreshFormSuccess(a) { $("#SingleEntryFormModal").modal("hide"), parent.ShowMessageNotification("success", a.message, !1) } $.UserRole = $("#UserRole").val(), $.UserLOBTag = $("#UserLOBTag").val(), $(document).ready(function () { $(".dataImport").addClass("thColor"), $("#dataImportForm #txtSrcRecordid").focus(), $("#dataImportForm #btnImportData").attr("disabled", "disabled"); var a = $("#dataImportForm #Message").val(); "" != a && (jQuery.ajaxSetup({ async: !0 }), parent.ShowMessageNotification("success", a, a.startsWith("Import Process Completed Successfully"))), loadCleansMatchDataTags(), Validation() }), $(document).on("click", "#dataImportForm #btnImportData", function () { var a = $("#Tags").val(); return !!Validation() && ("lob" == $.UserRole.toLowerCase() && "" == a ? ($("#dataImportForm #spnTags").show(), !1) : void $("#dataImportForm #spnTags").hide()) }), $(document).on("blur", "#dataImportForm #txtSrcRecordid", function (a, t) { Validation() }), $(document).on("blur", "#dataImportForm #txtCompanyName", function (a, t) { Validation() }), $(document).on("change", "#dataImportForm #Country", function () { Validation() }), $(document).on("change", "input[type=checkbox][name=rBtnImportDataOption]", function () { var a = $("input.rButtonImportData").is(":checked"); $("#IsTagsLicenseAllow").val(); 0 == a ? (a = "Data Import", $(".dataImport").addClass("thColor"), $(".matchRefresh").removeClass("thColor")) : 1 == a && (a = "Match Refresh", $(".matchRefresh").addClass("thColor"), $(".dataImport").removeClass("thColor")), "Data Import" == a ? $.ajax({ type: "GET", url: "/ImportData/SingleFormEntry?IsPartial=" + !0, dataType: "html", async: !1, contentType: !1, processData: !1, success: function (a) { parent.addRemoveDNBSingleEntryPopupClass(!1), $(".SingleEntryMain").html(a), loadCleansMatchDataTags() } }) : $.ajax({ type: "GET", url: "/ImportData/SingleMatchRefreshFormEntry", dataType: "html", async: !1, contentType: !1, processData: !1, success: function (a) { parent.addRemoveDNBSingleEntryPopupClass(!0), $(".SingleEntryMain").html(a) } }) });
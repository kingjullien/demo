@model MvcSiteMapProvider.Web.Html.Models.MenuHelperModel
@using System.Web.Mvc.Html
@using MvcSiteMapProvider.Web.Html.Models

<ul>
    @foreach (var node in Model.Nodes)
    {
        <li class="@(node.IsInCurrentPath ? "open active" : "")">
            @Html.DisplayFor(m => node)
            @if (node.Children.Any())
            {<ul style="@(node.IsInCurrentPath ? "display: block;" : "display: none;")">@foreach (var child in node.Children){<li class="@(child.IsInCurrentPath ? "active" : "")">@Html.DisplayFor(m => child)</li>}</ul>}
</li>
    }
</ul>